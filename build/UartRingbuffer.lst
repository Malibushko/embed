ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"UartRingbuffer.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text._Z12Ringbuf_initv,"ax",%progbits
  16              		.align	1
  17              		.global	_Z12Ringbuf_initv
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	_Z12Ringbuf_initv:
  25              		.fnstart
  26              	.LFB65:
  27              		.file 1 "Core/Src/UartRingbuffer.c"
   1:Core/Src/UartRingbuffer.c **** /*
   2:Core/Src/UartRingbuffer.c ****  * UartRingbuffer.c
   3:Core/Src/UartRingbuffer.c ****  *
   4:Core/Src/UartRingbuffer.c ****  *  Created on: 10-Jul-2019
   5:Core/Src/UartRingbuffer.c ****  *      Author: Controllerstech
   6:Core/Src/UartRingbuffer.c ****  *
   7:Core/Src/UartRingbuffer.c ****  *  Modified on: 11-April-2020
   8:Core/Src/UartRingbuffer.c ****  */
   9:Core/Src/UartRingbuffer.c **** 
  10:Core/Src/UartRingbuffer.c **** #include "UartRingbuffer.h"
  11:Core/Src/UartRingbuffer.c **** #include <string.h>
  12:Core/Src/UartRingbuffer.c **** 
  13:Core/Src/UartRingbuffer.c **** /**** define the UART you are using  ****/
  14:Core/Src/UartRingbuffer.c **** 
  15:Core/Src/UartRingbuffer.c **** extern UART_HandleTypeDef huart1;
  16:Core/Src/UartRingbuffer.c **** 
  17:Core/Src/UartRingbuffer.c **** #define uart &huart1
  18:Core/Src/UartRingbuffer.c **** 
  19:Core/Src/UartRingbuffer.c **** /* put the following in the ISR 
  20:Core/Src/UartRingbuffer.c **** 
  21:Core/Src/UartRingbuffer.c **** extern void Uart_isr (UART_HandleTypeDef *huart);
  22:Core/Src/UartRingbuffer.c **** 
  23:Core/Src/UartRingbuffer.c **** */
  24:Core/Src/UartRingbuffer.c **** 
  25:Core/Src/UartRingbuffer.c **** /****************=======================>>>>>>>>>>> NO CHANGES AFTER THIS =======================>>
  26:Core/Src/UartRingbuffer.c **** 
  27:Core/Src/UartRingbuffer.c **** 
  28:Core/Src/UartRingbuffer.c **** ring_buffer rx_buffer = { { 0 }, 0, 0};
  29:Core/Src/UartRingbuffer.c **** ring_buffer tx_buffer = { { 0 }, 0, 0};
  30:Core/Src/UartRingbuffer.c **** 
  31:Core/Src/UartRingbuffer.c **** ring_buffer *_rx_buffer;
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 2


  32:Core/Src/UartRingbuffer.c **** ring_buffer *_tx_buffer;
  33:Core/Src/UartRingbuffer.c **** 
  34:Core/Src/UartRingbuffer.c **** void store_char(unsigned char c, ring_buffer *buffer);
  35:Core/Src/UartRingbuffer.c **** 
  36:Core/Src/UartRingbuffer.c **** 
  37:Core/Src/UartRingbuffer.c **** void Ringbuf_init(void)
  38:Core/Src/UartRingbuffer.c **** {
  28              		.loc 1 38 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  39:Core/Src/UartRingbuffer.c ****   _rx_buffer = &rx_buffer;
  33              		.loc 1 39 3 view .LVU1
  34              		.loc 1 39 14 is_stmt 0 view .LVU2
  35 0000 084B     		ldr	r3, .L2
  36 0002 094A     		ldr	r2, .L2+4
  37 0004 1A60     		str	r2, [r3]
  40:Core/Src/UartRingbuffer.c ****   _tx_buffer = &tx_buffer;
  38              		.loc 1 40 3 is_stmt 1 view .LVU3
  39              		.loc 1 40 14 is_stmt 0 view .LVU4
  40 0006 094B     		ldr	r3, .L2+8
  41 0008 094A     		ldr	r2, .L2+12
  42 000a 1A60     		str	r2, [r3]
  41:Core/Src/UartRingbuffer.c **** 
  42:Core/Src/UartRingbuffer.c ****   /* Enable the UART Error Interrupt: (Frame error, noise error, overrun error) */
  43:Core/Src/UartRingbuffer.c ****   __HAL_UART_ENABLE_IT(uart, UART_IT_ERR);
  43              		.loc 1 43 3 is_stmt 1 view .LVU5
  44 000c 094B     		ldr	r3, .L2+16
  45 000e 1B68     		ldr	r3, [r3]
  46 0010 5A69     		ldr	r2, [r3, #20]
  47 0012 42F00102 		orr	r2, r2, #1
  48 0016 5A61     		str	r2, [r3, #20]
  44:Core/Src/UartRingbuffer.c **** 
  45:Core/Src/UartRingbuffer.c ****   /* Enable the UART Data Register not empty Interrupt */
  46:Core/Src/UartRingbuffer.c ****   __HAL_UART_ENABLE_IT(uart, UART_IT_RXNE);
  49              		.loc 1 46 3 view .LVU6
  50 0018 DA68     		ldr	r2, [r3, #12]
  51 001a 42F02002 		orr	r2, r2, #32
  52 001e DA60     		str	r2, [r3, #12]
  47:Core/Src/UartRingbuffer.c **** }
  53              		.loc 1 47 1 is_stmt 0 view .LVU7
  54 0020 7047     		bx	lr
  55              	.L3:
  56 0022 00BF     		.align	2
  57              	.L2:
  58 0024 00000000 		.word	.LANCHOR0
  59 0028 00000000 		.word	.LANCHOR1
  60 002c 00000000 		.word	.LANCHOR2
  61 0030 00000000 		.word	.LANCHOR3
  62 0034 00000000 		.word	huart1
  63              		.cfi_endproc
  64              	.LFE65:
  65              		.cantunwind
  66              		.fnend
  68              		.section	.text._Z10store_charhP11ring_buffer,"ax",%progbits
  69              		.align	1
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 3


  70              		.global	_Z10store_charhP11ring_buffer
  71              		.syntax unified
  72              		.thumb
  73              		.thumb_func
  74              		.fpu softvfp
  76              	_Z10store_charhP11ring_buffer:
  77              		.fnstart
  78              	.LVL0:
  79              	.LFB66:
  48:Core/Src/UartRingbuffer.c **** 
  49:Core/Src/UartRingbuffer.c **** void store_char(unsigned char c, ring_buffer *buffer)
  50:Core/Src/UartRingbuffer.c **** {
  80              		.loc 1 50 1 is_stmt 1 view -0
  81              		.cfi_startproc
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 0, uses_anonymous_args = 0
  84              		@ link register save eliminated.
  51:Core/Src/UartRingbuffer.c ****   int i = (unsigned int)(buffer->head + 1) % UART_BUFFER_SIZE;
  85              		.loc 1 51 3 view .LVU9
  86              		.loc 1 51 34 is_stmt 0 view .LVU10
  87 0000 0B6C     		ldr	r3, [r1, #64]
  88              		.loc 1 51 39 view .LVU11
  89 0002 0133     		adds	r3, r3, #1
  90              		.loc 1 51 46 view .LVU12
  91 0004 03F03F03 		and	r3, r3, #63
  92              	.LVL1:
  52:Core/Src/UartRingbuffer.c **** 
  53:Core/Src/UartRingbuffer.c ****   // if we should be storing the received character into the location
  54:Core/Src/UartRingbuffer.c ****   // just before the tail (meaning that the head would advance to the
  55:Core/Src/UartRingbuffer.c ****   // current location of the tail), we're about to overflow the buffer
  56:Core/Src/UartRingbuffer.c ****   // and so we don't write the character or advance the head.
  57:Core/Src/UartRingbuffer.c ****   if(i != buffer->tail) {
  93              		.loc 1 57 3 is_stmt 1 view .LVU13
  94              		.loc 1 57 19 is_stmt 0 view .LVU14
  95 0008 4A6C     		ldr	r2, [r1, #68]
  96              		.loc 1 57 3 view .LVU15
  97 000a 9A42     		cmp	r2, r3
  98 000c 02D0     		beq	.L4
  58:Core/Src/UartRingbuffer.c ****     buffer->buffer[buffer->head] = c;
  99              		.loc 1 58 5 is_stmt 1 view .LVU16
 100              		.loc 1 58 28 is_stmt 0 view .LVU17
 101 000e 0A6C     		ldr	r2, [r1, #64]
 102              		.loc 1 58 34 view .LVU18
 103 0010 8854     		strb	r0, [r1, r2]
  59:Core/Src/UartRingbuffer.c ****     buffer->head = i;
 104              		.loc 1 59 5 is_stmt 1 view .LVU19
 105              		.loc 1 59 18 is_stmt 0 view .LVU20
 106 0012 0B64     		str	r3, [r1, #64]
 107              	.L4:
  60:Core/Src/UartRingbuffer.c ****   }
  61:Core/Src/UartRingbuffer.c **** }
 108              		.loc 1 61 1 view .LVU21
 109 0014 7047     		bx	lr
 110              		.cfi_endproc
 111              	.LFE66:
 112              		.cantunwind
 113              		.fnend
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 4


 115              		.section	.text._Z8Look_forPcS_,"ax",%progbits
 116              		.align	1
 117              		.global	_Z8Look_forPcS_
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 121              		.fpu softvfp
 123              	_Z8Look_forPcS_:
 124              		.fnstart
 125              	.LVL2:
 126              	.LFB67:
  62:Core/Src/UartRingbuffer.c **** 
  63:Core/Src/UartRingbuffer.c **** int Look_for (char *str, char *buffertolookinto)
  64:Core/Src/UartRingbuffer.c **** {
 127              		.loc 1 64 1 is_stmt 1 view -0
 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 0
 130              		@ frame_needed = 0, uses_anonymous_args = 0
 131              		.loc 1 64 1 is_stmt 0 view .LVU23
 132 0000 38B5     		push	{r3, r4, r5, lr}
 133              	.LCFI0:
 134              		.cfi_def_cfa_offset 16
 135              		.cfi_offset 3, -16
 136              		.cfi_offset 4, -12
 137              		.cfi_offset 5, -8
 138              		.cfi_offset 14, -4
 139 0002 0446     		mov	r4, r0
 140 0004 0D46     		mov	r5, r1
  65:Core/Src/UartRingbuffer.c **** 	int stringlength = strlen (str);
 141              		.loc 1 65 2 is_stmt 1 view .LVU24
 142              		.loc 1 65 28 is_stmt 0 view .LVU25
 143 0006 FFF7FEFF 		bl	strlen
 144              	.LVL3:
  66:Core/Src/UartRingbuffer.c **** 	int bufferlength = strlen (buffertolookinto);
 145              		.loc 1 66 2 is_stmt 1 view .LVU26
  67:Core/Src/UartRingbuffer.c **** 	int so_far = 0;
 146              		.loc 1 67 2 view .LVU27
  68:Core/Src/UartRingbuffer.c **** 	int indx = 0;
 147              		.loc 1 68 2 view .LVU28
 148              		.loc 1 68 6 is_stmt 0 view .LVU29
 149 000a 0023     		movs	r3, #0
 150 000c 00E0     		b	.L7
 151              	.LVL4:
 152              	.L14:
  69:Core/Src/UartRingbuffer.c **** repeat:
  70:Core/Src/UartRingbuffer.c **** 	while (str[so_far] != buffertolookinto[indx]) indx++;
 153              		.loc 1 70 48 is_stmt 1 discriminator 1 view .LVU30
 154              		.loc 1 70 52 is_stmt 0 discriminator 1 view .LVU31
 155 000e 0133     		adds	r3, r3, #1
 156              	.LVL5:
 157              	.L7:
  69:Core/Src/UartRingbuffer.c **** repeat:
 158              		.loc 1 69 1 is_stmt 1 discriminator 2 view .LVU32
 159              		.loc 1 70 2 discriminator 2 view .LVU33
 160              		.loc 1 70 21 discriminator 2 view .LVU34
 161              		.loc 1 70 19 is_stmt 0 discriminator 2 view .LVU35
 162 0010 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 5


 163              		.loc 1 70 45 discriminator 2 view .LVU36
 164 0012 EA5C     		ldrb	r2, [r5, r3]	@ zero_extendqisi2
 165              		.loc 1 70 21 discriminator 2 view .LVU37
 166 0014 9142     		cmp	r1, r2
 167 0016 FAD1     		bne	.L14
 168 0018 0022     		movs	r2, #0
 169 001a 01E0     		b	.L8
 170              	.LVL6:
 171              	.L15:
  71:Core/Src/UartRingbuffer.c **** 	if (str[so_far] == buffertolookinto[indx])
  72:Core/Src/UartRingbuffer.c **** 	{
  73:Core/Src/UartRingbuffer.c **** 		while (str[so_far] == buffertolookinto[indx])
  74:Core/Src/UartRingbuffer.c **** 		{
  75:Core/Src/UartRingbuffer.c **** 			so_far++;
 172              		.loc 1 75 4 is_stmt 1 view .LVU38
 173              		.loc 1 75 10 is_stmt 0 view .LVU39
 174 001c 0132     		adds	r2, r2, #1
 175              	.LVL7:
  76:Core/Src/UartRingbuffer.c **** 			indx++;
 176              		.loc 1 76 4 is_stmt 1 view .LVU40
 177              		.loc 1 76 8 is_stmt 0 view .LVU41
 178 001e 0133     		adds	r3, r3, #1
 179              	.LVL8:
 180              	.L8:
  73:Core/Src/UartRingbuffer.c **** 		{
 181              		.loc 1 73 3 is_stmt 1 view .LVU42
  73:Core/Src/UartRingbuffer.c **** 		{
 182              		.loc 1 73 22 view .LVU43
  73:Core/Src/UartRingbuffer.c **** 		{
 183              		.loc 1 73 20 is_stmt 0 view .LVU44
 184 0020 14F802C0 		ldrb	ip, [r4, r2]	@ zero_extendqisi2
  73:Core/Src/UartRingbuffer.c **** 		{
 185              		.loc 1 73 46 view .LVU45
 186 0024 E95C     		ldrb	r1, [r5, r3]	@ zero_extendqisi2
  73:Core/Src/UartRingbuffer.c **** 		{
 187              		.loc 1 73 22 view .LVU46
 188 0026 8C45     		cmp	ip, r1
 189 0028 F8D0     		beq	.L15
  77:Core/Src/UartRingbuffer.c **** 		}
  78:Core/Src/UartRingbuffer.c **** 	}
  79:Core/Src/UartRingbuffer.c **** 	else
  80:Core/Src/UartRingbuffer.c **** 	{
  81:Core/Src/UartRingbuffer.c **** 		so_far =0;
  82:Core/Src/UartRingbuffer.c **** 		if (indx >= bufferlength) return -1;
  83:Core/Src/UartRingbuffer.c **** 		goto repeat;
  84:Core/Src/UartRingbuffer.c **** 	}
  85:Core/Src/UartRingbuffer.c **** 
  86:Core/Src/UartRingbuffer.c **** 	if (so_far == stringlength) return 1;
 190              		.loc 1 86 2 is_stmt 1 view .LVU47
 191 002a 8242     		cmp	r2, r0
 192 002c 02D0     		beq	.L16
  87:Core/Src/UartRingbuffer.c **** 	else return -1;
 193              		.loc 1 87 15 is_stmt 0 view .LVU48
 194 002e 4FF0FF30 		mov	r0, #-1
 195              	.LVL9:
 196              	.L6:
  88:Core/Src/UartRingbuffer.c **** }
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 6


 197              		.loc 1 88 1 view .LVU49
 198 0032 38BD     		pop	{r3, r4, r5, pc}
 199              	.LVL10:
 200              	.L16:
  86:Core/Src/UartRingbuffer.c **** 	else return -1;
 201              		.loc 1 86 37 view .LVU50
 202 0034 0120     		movs	r0, #1
 203              	.LVL11:
  86:Core/Src/UartRingbuffer.c **** 	else return -1;
 204              		.loc 1 86 37 view .LVU51
 205 0036 FCE7     		b	.L6
 206              		.cfi_endproc
 207              	.LFE67:
 208              		.cantunwind
 209              		.fnend
 211              		.section	.text._Z9Uart_readv,"ax",%progbits
 212              		.align	1
 213              		.global	_Z9Uart_readv
 214              		.syntax unified
 215              		.thumb
 216              		.thumb_func
 217              		.fpu softvfp
 219              	_Z9Uart_readv:
 220              		.fnstart
 221              	.LFB68:
  89:Core/Src/UartRingbuffer.c **** 
  90:Core/Src/UartRingbuffer.c **** int Uart_read(void)
  91:Core/Src/UartRingbuffer.c **** {
 222              		.loc 1 91 1 is_stmt 1 view -0
 223              		.cfi_startproc
 224              		@ args = 0, pretend = 0, frame = 0
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 226              		@ link register save eliminated.
  92:Core/Src/UartRingbuffer.c ****   // if the head isn't ahead of the tail, we don't have any characters
  93:Core/Src/UartRingbuffer.c ****   if(_rx_buffer->head == _rx_buffer->tail)
 227              		.loc 1 93 3 view .LVU53
 228              	.LBB2:
 229              		.loc 1 93 18 is_stmt 0 view .LVU54
 230 0000 084B     		ldr	r3, .L20
 231 0002 1B68     		ldr	r3, [r3]
 232 0004 196C     		ldr	r1, [r3, #64]
 233              		.loc 1 93 38 view .LVU55
 234 0006 5A6C     		ldr	r2, [r3, #68]
 235              		.loc 1 93 3 view .LVU56
 236 0008 9142     		cmp	r1, r2
 237 000a 07D0     		beq	.L19
 238              	.LBB3:
  94:Core/Src/UartRingbuffer.c ****   {
  95:Core/Src/UartRingbuffer.c ****     return -1;
  96:Core/Src/UartRingbuffer.c ****   }
  97:Core/Src/UartRingbuffer.c ****   else
  98:Core/Src/UartRingbuffer.c ****   {
  99:Core/Src/UartRingbuffer.c ****     unsigned char c = _rx_buffer->buffer[_rx_buffer->tail];
 239              		.loc 1 99 5 is_stmt 1 view .LVU57
 240              		.loc 1 99 54 is_stmt 0 view .LVU58
 241 000c 5A6C     		ldr	r2, [r3, #68]
 242              		.loc 1 99 58 view .LVU59
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 7


 243 000e 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 244              	.LVL12:
 100:Core/Src/UartRingbuffer.c ****     _rx_buffer->tail = (unsigned int)(_rx_buffer->tail + 1) % UART_BUFFER_SIZE;
 245              		.loc 1 100 5 is_stmt 1 view .LVU60
 246              		.loc 1 100 51 is_stmt 0 view .LVU61
 247 0010 5A6C     		ldr	r2, [r3, #68]
 248              		.loc 1 100 56 view .LVU62
 249 0012 0132     		adds	r2, r2, #1
 250              		.loc 1 100 61 view .LVU63
 251 0014 02F03F02 		and	r2, r2, #63
 252              		.loc 1 100 22 view .LVU64
 253 0018 5A64     		str	r2, [r3, #68]
 101:Core/Src/UartRingbuffer.c ****     return c;
 254              		.loc 1 101 5 is_stmt 1 view .LVU65
 255              		.loc 1 101 12 is_stmt 0 view .LVU66
 256 001a 7047     		bx	lr
 257              	.LVL13:
 258              	.L19:
 259              		.loc 1 101 12 view .LVU67
 260              	.LBE3:
  95:Core/Src/UartRingbuffer.c ****   }
 261              		.loc 1 95 13 view .LVU68
 262 001c 4FF0FF30 		mov	r0, #-1
 263              	.LBE2:
 102:Core/Src/UartRingbuffer.c ****   }
 103:Core/Src/UartRingbuffer.c **** }
 264              		.loc 1 103 1 view .LVU69
 265 0020 7047     		bx	lr
 266              	.L21:
 267 0022 00BF     		.align	2
 268              	.L20:
 269 0024 00000000 		.word	.LANCHOR0
 270              		.cfi_endproc
 271              	.LFE68:
 272              		.cantunwind
 273              		.fnend
 275              		.section	.text._Z10Uart_writei,"ax",%progbits
 276              		.align	1
 277              		.global	_Z10Uart_writei
 278              		.syntax unified
 279              		.thumb
 280              		.thumb_func
 281              		.fpu softvfp
 283              	_Z10Uart_writei:
 284              		.fnstart
 285              	.LVL14:
 286              	.LFB69:
 104:Core/Src/UartRingbuffer.c **** 
 105:Core/Src/UartRingbuffer.c **** void Uart_write(int c)
 106:Core/Src/UartRingbuffer.c **** {
 287              		.loc 1 106 1 is_stmt 1 view -0
 288              		.cfi_startproc
 289              		@ args = 0, pretend = 0, frame = 0
 290              		@ frame_needed = 0, uses_anonymous_args = 0
 291              		@ link register save eliminated.
 107:Core/Src/UartRingbuffer.c **** 	if (c>=0)
 292              		.loc 1 107 2 view .LVU71
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 8


 293              	.LBB4:
 294 0000 0028     		cmp	r0, #0
 295              		.loc 1 107 2 is_stmt 0 view .LVU72
 296 0002 13DB     		blt	.L22
 297              	.LBB5:
 108:Core/Src/UartRingbuffer.c **** 	{
 109:Core/Src/UartRingbuffer.c **** 		int i = (_tx_buffer->head + 1) % UART_BUFFER_SIZE;
 298              		.loc 1 109 3 is_stmt 1 view .LVU73
 299              		.loc 1 109 24 is_stmt 0 view .LVU74
 300 0004 0A4B     		ldr	r3, .L25
 301 0006 1968     		ldr	r1, [r3]
 302 0008 0A6C     		ldr	r2, [r1, #64]
 303              		.loc 1 109 29 view .LVU75
 304 000a 0132     		adds	r2, r2, #1
 305              		.loc 1 109 36 view .LVU76
 306 000c 02F03F02 		and	r2, r2, #63
 307              	.LVL15:
 308              	.L24:
 110:Core/Src/UartRingbuffer.c **** 
 111:Core/Src/UartRingbuffer.c **** 		// If the output buffer is full, there's nothing for it other than to
 112:Core/Src/UartRingbuffer.c **** 		// wait for the interrupt handler to empty it a bit
 113:Core/Src/UartRingbuffer.c **** 		// ???: return 0 here instead?
 114:Core/Src/UartRingbuffer.c **** 		while (i == _tx_buffer->tail);
 309              		.loc 1 114 3 is_stmt 1 view .LVU77
 310              		.loc 1 114 12 view .LVU78
 311              		.loc 1 114 27 is_stmt 0 view .LVU79
 312 0010 4B6C     		ldr	r3, [r1, #68]
 313              		.loc 1 114 12 view .LVU80
 314 0012 9342     		cmp	r3, r2
 315 0014 FCD0     		beq	.L24
 115:Core/Src/UartRingbuffer.c **** 
 116:Core/Src/UartRingbuffer.c **** 		_tx_buffer->buffer[_tx_buffer->head] = (uint8_t)c;
 316              		.loc 1 116 3 is_stmt 1 view .LVU81
 317              		.loc 1 116 34 is_stmt 0 view .LVU82
 318 0016 0B6C     		ldr	r3, [r1, #64]
 319              		.loc 1 116 40 view .LVU83
 320 0018 C854     		strb	r0, [r1, r3]
 117:Core/Src/UartRingbuffer.c **** 		_tx_buffer->head = i;
 321              		.loc 1 117 3 is_stmt 1 view .LVU84
 322              		.loc 1 117 15 is_stmt 0 view .LVU85
 323 001a 054B     		ldr	r3, .L25
 324 001c 1B68     		ldr	r3, [r3]
 325              		.loc 1 117 20 view .LVU86
 326 001e 1A64     		str	r2, [r3, #64]
 118:Core/Src/UartRingbuffer.c **** 
 119:Core/Src/UartRingbuffer.c **** 		__HAL_UART_ENABLE_IT(uart, UART_IT_TXE); // Enable UART transmission interrupt
 327              		.loc 1 119 3 is_stmt 1 view .LVU87
 328 0020 044B     		ldr	r3, .L25+4
 329 0022 1A68     		ldr	r2, [r3]
 330              	.LVL16:
 331              		.loc 1 119 3 is_stmt 0 view .LVU88
 332 0024 D368     		ldr	r3, [r2, #12]
 333 0026 43F08003 		orr	r3, r3, #128
 334 002a D360     		str	r3, [r2, #12]
 335              	.LVL17:
 336              	.L22:
 337              		.loc 1 119 3 view .LVU89
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 9


 338              	.LBE5:
 339              	.LBE4:
 120:Core/Src/UartRingbuffer.c **** 	}
 121:Core/Src/UartRingbuffer.c **** }
 340              		.loc 1 121 1 view .LVU90
 341 002c 7047     		bx	lr
 342              	.L26:
 343 002e 00BF     		.align	2
 344              	.L25:
 345 0030 00000000 		.word	.LANCHOR2
 346 0034 00000000 		.word	huart1
 347              		.cfi_endproc
 348              	.LFE69:
 349              		.cantunwind
 350              		.fnend
 352              		.section	.text._Z15IsDataAvailablev,"ax",%progbits
 353              		.align	1
 354              		.global	_Z15IsDataAvailablev
 355              		.syntax unified
 356              		.thumb
 357              		.thumb_func
 358              		.fpu softvfp
 360              	_Z15IsDataAvailablev:
 361              		.fnstart
 362              	.LFB70:
 122:Core/Src/UartRingbuffer.c **** 
 123:Core/Src/UartRingbuffer.c **** int IsDataAvailable(void)
 124:Core/Src/UartRingbuffer.c **** {
 363              		.loc 1 124 1 is_stmt 1 view -0
 364              		.cfi_startproc
 365              		@ args = 0, pretend = 0, frame = 0
 366              		@ frame_needed = 0, uses_anonymous_args = 0
 367              		@ link register save eliminated.
 125:Core/Src/UartRingbuffer.c ****   return (uint16_t)(UART_BUFFER_SIZE + _rx_buffer->head - _rx_buffer->tail) % UART_BUFFER_SIZE;
 368              		.loc 1 125 3 view .LVU92
 369              		.loc 1 125 52 is_stmt 0 view .LVU93
 370 0000 034B     		ldr	r3, .L28
 371 0002 1B68     		ldr	r3, [r3]
 372 0004 186C     		ldr	r0, [r3, #64]
 373              		.loc 1 125 71 view .LVU94
 374 0006 5B6C     		ldr	r3, [r3, #68]
 375              		.loc 1 125 57 view .LVU95
 376 0008 C01A     		subs	r0, r0, r3
 126:Core/Src/UartRingbuffer.c **** }
 377              		.loc 1 126 1 view .LVU96
 378 000a 00F03F00 		and	r0, r0, #63
 379 000e 7047     		bx	lr
 380              	.L29:
 381              		.align	2
 382              	.L28:
 383 0010 00000000 		.word	.LANCHOR0
 384              		.cfi_endproc
 385              	.LFE70:
 386              		.cantunwind
 387              		.fnend
 389              		.section	.text._Z15Uart_sendstringPKc,"ax",%progbits
 390              		.align	1
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 10


 391              		.global	_Z15Uart_sendstringPKc
 392              		.syntax unified
 393              		.thumb
 394              		.thumb_func
 395              		.fpu softvfp
 397              	_Z15Uart_sendstringPKc:
 398              		.fnstart
 399              	.LVL18:
 400              	.LFB71:
 127:Core/Src/UartRingbuffer.c **** 
 128:Core/Src/UartRingbuffer.c **** void Uart_sendstring (const char *s)
 129:Core/Src/UartRingbuffer.c **** {
 401              		.loc 1 129 1 is_stmt 1 view -0
 402              		.cfi_startproc
 403              		@ args = 0, pretend = 0, frame = 0
 404              		@ frame_needed = 0, uses_anonymous_args = 0
 405              		.loc 1 129 1 is_stmt 0 view .LVU98
 406 0000 10B5     		push	{r4, lr}
 407              	.LCFI1:
 408              		.cfi_def_cfa_offset 8
 409              		.cfi_offset 4, -8
 410              		.cfi_offset 14, -4
 411 0002 0446     		mov	r4, r0
 412 0004 02E0     		b	.L32
 413              	.LVL19:
 414              	.L34:
 130:Core/Src/UartRingbuffer.c **** 	while(*s) Uart_write(*s++);
 415              		.loc 1 130 12 is_stmt 1 discriminator 1 view .LVU99
 416              		.loc 1 130 25 is_stmt 0 discriminator 1 view .LVU100
 417 0006 0134     		adds	r4, r4, #1
 418              	.LVL20:
 419              		.loc 1 130 22 discriminator 1 view .LVU101
 420 0008 FFF7FEFF 		bl	_Z10Uart_writei
 421              	.LVL21:
 422              	.L32:
 423              		.loc 1 130 2 is_stmt 1 discriminator 2 view .LVU102
 424              		.loc 1 130 8 discriminator 2 view .LVU103
 425 000c 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 426 000e 0028     		cmp	r0, #0
 427 0010 F9D1     		bne	.L34
 131:Core/Src/UartRingbuffer.c **** }
 428              		.loc 1 131 1 is_stmt 0 view .LVU104
 429 0012 10BD     		pop	{r4, pc}
 430              		.loc 1 131 1 view .LVU105
 431              		.cfi_endproc
 432              	.LFE71:
 433              		.cantunwind
 434              		.fnend
 436              		.section	.text._Z14Uart_printbaselh,"ax",%progbits
 437              		.align	1
 438              		.global	_Z14Uart_printbaselh
 439              		.syntax unified
 440              		.thumb
 441              		.thumb_func
 442              		.fpu softvfp
 444              	_Z14Uart_printbaselh:
 445              		.fnstart
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 11


 446              	.LVL22:
 447              	.LFB72:
 132:Core/Src/UartRingbuffer.c **** 
 133:Core/Src/UartRingbuffer.c **** void Uart_printbase (long n, uint8_t base)
 134:Core/Src/UartRingbuffer.c **** {
 448              		.loc 1 134 1 is_stmt 1 view -0
 449              		.cfi_startproc
 450              		@ args = 0, pretend = 0, frame = 40
 451              		@ frame_needed = 0, uses_anonymous_args = 0
 452              		.loc 1 134 1 is_stmt 0 view .LVU107
 453 0000 10B5     		push	{r4, lr}
 454              	.LCFI2:
 455              		.cfi_def_cfa_offset 8
 456              		.cfi_offset 4, -8
 457              		.cfi_offset 14, -4
 458 0002 8AB0     		sub	sp, sp, #40
 459              	.LCFI3:
 460              		.cfi_def_cfa_offset 48
 135:Core/Src/UartRingbuffer.c ****   char buf[8 * sizeof(long) + 1]; // Assumes 8-bit chars plus zero byte.
 461              		.loc 1 135 3 is_stmt 1 view .LVU108
 136:Core/Src/UartRingbuffer.c ****   char *s = &buf[sizeof(buf) - 1];
 462              		.loc 1 136 3 view .LVU109
 463              	.LVL23:
 137:Core/Src/UartRingbuffer.c **** 
 138:Core/Src/UartRingbuffer.c ****   *s = '\0';
 464              		.loc 1 138 3 view .LVU110
 465              		.loc 1 138 6 is_stmt 0 view .LVU111
 466 0004 0023     		movs	r3, #0
 467 0006 8DF82430 		strb	r3, [sp, #36]
 139:Core/Src/UartRingbuffer.c **** 
 140:Core/Src/UartRingbuffer.c ****   // prevent crash if called with base == 1
 141:Core/Src/UartRingbuffer.c ****   if (base < 2) base = 10;
 468              		.loc 1 141 3 is_stmt 1 view .LVU112
 469 000a 0129     		cmp	r1, #1
 470 000c 01D9     		bls	.L44
 471              	.LVL24:
 472              	.L36:
 473              		.loc 1 141 22 is_stmt 0 view .LVU113
 474 000e 09AC     		add	r4, sp, #36
 475              	.LVL25:
 476              		.loc 1 141 22 view .LVU114
 477 0010 06E0     		b	.L39
 478              	.LVL26:
 479              	.L44:
 480              		.loc 1 141 22 view .LVU115
 481 0012 0A21     		movs	r1, #10
 482              	.LVL27:
 483              		.loc 1 141 22 view .LVU116
 484 0014 FBE7     		b	.L36
 485              	.LVL28:
 486              	.L45:
 487              	.LBB6:
 142:Core/Src/UartRingbuffer.c **** 
 143:Core/Src/UartRingbuffer.c ****   do {
 144:Core/Src/UartRingbuffer.c ****     unsigned long m = n;
 145:Core/Src/UartRingbuffer.c ****     n /= base;
 146:Core/Src/UartRingbuffer.c ****     char c = m - base * n;
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 12


 147:Core/Src/UartRingbuffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 488              		.loc 1 147 10 discriminator 1 view .LVU117
 489 0016 3033     		adds	r3, r3, #48
 490              	.LVL29:
 491              		.loc 1 147 10 discriminator 1 view .LVU118
 492 0018 DBB2     		uxtb	r3, r3
 493              	.LVL30:
 494              	.L38:
 495              		.loc 1 147 10 discriminator 4 view .LVU119
 496 001a 04F8013D 		strb	r3, [r4, #-1]!
 497              	.LVL31:
 498              		.loc 1 147 10 discriminator 4 view .LVU120
 499              	.LBE6:
 148:Core/Src/UartRingbuffer.c ****   } while(n);
 500              		.loc 1 148 11 is_stmt 1 discriminator 4 view .LVU121
 501 001e 80B1     		cbz	r0, .L41
 502              	.LVL32:
 503              	.L39:
 143:Core/Src/UartRingbuffer.c ****     unsigned long m = n;
 504              		.loc 1 143 3 view .LVU122
 505              	.LBB7:
 144:Core/Src/UartRingbuffer.c ****     n /= base;
 506              		.loc 1 144 5 view .LVU123
 145:Core/Src/UartRingbuffer.c ****     char c = m - base * n;
 507              		.loc 1 145 5 view .LVU124
 508 0020 0346     		mov	r3, r0
 145:Core/Src/UartRingbuffer.c ****     char c = m - base * n;
 509              		.loc 1 145 7 is_stmt 0 view .LVU125
 510 0022 90FBF1F0 		sdiv	r0, r0, r1
 511              	.LVL33:
 146:Core/Src/UartRingbuffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 512              		.loc 1 146 5 is_stmt 1 view .LVU126
 146:Core/Src/UartRingbuffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 513              		.loc 1 146 16 is_stmt 0 view .LVU127
 514 0026 DBB2     		uxtb	r3, r3
 515              	.LVL34:
 146:Core/Src/UartRingbuffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 516              		.loc 1 146 16 view .LVU128
 517 0028 00FB01F2 		mul	r2, r0, r1
 518 002c D2B2     		uxtb	r2, r2
 146:Core/Src/UartRingbuffer.c ****     *--s = c < 10 ? c + '0' : c + 'A' - 10;
 519              		.loc 1 146 10 view .LVU129
 520 002e 9B1A     		subs	r3, r3, r2
 521 0030 DBB2     		uxtb	r3, r3
 522              	.LVL35:
 147:Core/Src/UartRingbuffer.c ****   } while(n);
 523              		.loc 1 147 5 is_stmt 1 view .LVU130
 147:Core/Src/UartRingbuffer.c ****   } while(n);
 524              		.loc 1 147 10 is_stmt 0 view .LVU131
 525 0032 092B     		cmp	r3, #9
 526 0034 EFD9     		bls	.L45
 147:Core/Src/UartRingbuffer.c ****   } while(n);
 527              		.loc 1 147 10 discriminator 2 view .LVU132
 528 0036 3733     		adds	r3, r3, #55
 529              	.LVL36:
 147:Core/Src/UartRingbuffer.c ****   } while(n);
 530              		.loc 1 147 10 discriminator 2 view .LVU133
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 13


 531 0038 DBB2     		uxtb	r3, r3
 532              	.LVL37:
 147:Core/Src/UartRingbuffer.c ****   } while(n);
 533              		.loc 1 147 10 discriminator 2 view .LVU134
 534 003a EEE7     		b	.L38
 535              	.LVL38:
 536              	.L46:
 147:Core/Src/UartRingbuffer.c ****   } while(n);
 537              		.loc 1 147 10 discriminator 2 view .LVU135
 538              	.LBE7:
 149:Core/Src/UartRingbuffer.c **** 
 150:Core/Src/UartRingbuffer.c ****   while(*s) Uart_write(*s++);
 539              		.loc 1 150 13 is_stmt 1 discriminator 1 view .LVU136
 540              		.loc 1 150 26 is_stmt 0 discriminator 1 view .LVU137
 541 003c 0134     		adds	r4, r4, #1
 542              	.LVL39:
 543              		.loc 1 150 23 discriminator 1 view .LVU138
 544 003e FFF7FEFF 		bl	_Z10Uart_writei
 545              	.LVL40:
 546              	.L41:
 547              		.loc 1 150 3 is_stmt 1 discriminator 2 view .LVU139
 548              		.loc 1 150 9 discriminator 2 view .LVU140
 549 0042 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 550 0044 0028     		cmp	r0, #0
 551 0046 F9D1     		bne	.L46
 151:Core/Src/UartRingbuffer.c **** }
 552              		.loc 1 151 1 is_stmt 0 view .LVU141
 553 0048 0AB0     		add	sp, sp, #40
 554              	.LCFI4:
 555              		.cfi_def_cfa_offset 8
 556              		@ sp needed
 557 004a 10BD     		pop	{r4, pc}
 558              		.loc 1 151 1 view .LVU142
 559              		.cfi_endproc
 560              	.LFE72:
 561              		.cantunwind
 562              		.fnend
 564              		.section	.text._Z17GetDataFromBufferPcS_S_S_,"ax",%progbits
 565              		.align	1
 566              		.global	_Z17GetDataFromBufferPcS_S_S_
 567              		.syntax unified
 568              		.thumb
 569              		.thumb_func
 570              		.fpu softvfp
 572              	_Z17GetDataFromBufferPcS_S_S_:
 573              		.fnstart
 574              	.LVL41:
 575              	.LFB73:
 152:Core/Src/UartRingbuffer.c **** 
 153:Core/Src/UartRingbuffer.c **** void GetDataFromBuffer (char *startString, char *endString, char *buffertocopyfrom, char *buffertoc
 154:Core/Src/UartRingbuffer.c **** {
 576              		.loc 1 154 1 is_stmt 1 view -0
 577              		.cfi_startproc
 578              		@ args = 0, pretend = 0, frame = 0
 579              		@ frame_needed = 0, uses_anonymous_args = 0
 580              		.loc 1 154 1 is_stmt 0 view .LVU144
 581 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 14


 582              	.LCFI5:
 583              		.cfi_def_cfa_offset 24
 584              		.cfi_offset 4, -24
 585              		.cfi_offset 5, -20
 586              		.cfi_offset 6, -16
 587              		.cfi_offset 7, -12
 588              		.cfi_offset 8, -8
 589              		.cfi_offset 14, -4
 590 0004 0746     		mov	r7, r0
 591 0006 0E46     		mov	r6, r1
 592 0008 1446     		mov	r4, r2
 593 000a 1D46     		mov	r5, r3
 155:Core/Src/UartRingbuffer.c **** 	int startStringLength = strlen (startString);
 594              		.loc 1 155 2 is_stmt 1 view .LVU145
 595              		.loc 1 155 33 is_stmt 0 view .LVU146
 596 000c FFF7FEFF 		bl	strlen
 597              	.LVL42:
 598              		.loc 1 155 33 view .LVU147
 599 0010 8046     		mov	r8, r0
 600              	.LVL43:
 156:Core/Src/UartRingbuffer.c **** 	int endStringLength   = strlen (endString);
 601              		.loc 1 156 2 is_stmt 1 view .LVU148
 602              		.loc 1 156 33 is_stmt 0 view .LVU149
 603 0012 3046     		mov	r0, r6
 604              	.LVL44:
 605              		.loc 1 156 33 view .LVU150
 606 0014 FFF7FEFF 		bl	strlen
 607              	.LVL45:
 157:Core/Src/UartRingbuffer.c **** 	int so_far = 0;
 608              		.loc 1 157 2 is_stmt 1 view .LVU151
 158:Core/Src/UartRingbuffer.c **** 	int indx = 0;
 609              		.loc 1 158 2 view .LVU152
 159:Core/Src/UartRingbuffer.c **** 	int startposition = 0;
 610              		.loc 1 159 2 view .LVU153
 160:Core/Src/UartRingbuffer.c **** 	int endposition = 0;
 611              		.loc 1 160 2 view .LVU154
 158:Core/Src/UartRingbuffer.c **** 	int indx = 0;
 612              		.loc 1 158 6 is_stmt 0 view .LVU155
 613 0018 4FF0000C 		mov	ip, #0
 614 001c 0EE0     		b	.L48
 615              	.LVL46:
 616              	.L58:
 158:Core/Src/UartRingbuffer.c **** 	int indx = 0;
 617              		.loc 1 158 6 view .LVU156
 618 001e 4FF0000E 		mov	lr, #0
 619              	.LVL47:
 620              	.L50:
 161:Core/Src/UartRingbuffer.c **** 
 162:Core/Src/UartRingbuffer.c **** repeat1:
 163:Core/Src/UartRingbuffer.c **** 	while (startString[so_far] != buffertocopyfrom[indx]) indx++;
 164:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 165:Core/Src/UartRingbuffer.c **** 	{
 166:Core/Src/UartRingbuffer.c **** 		while (startString[so_far] == buffertocopyfrom[indx])
 621              		.loc 1 166 3 is_stmt 1 view .LVU157
 622              		.loc 1 166 30 view .LVU158
 623              		.loc 1 166 28 is_stmt 0 view .LVU159
 624 0022 17F80E20 		ldrb	r2, [r7, lr]	@ zero_extendqisi2
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 15


 625              		.loc 1 166 54 view .LVU160
 626 0026 14F80C30 		ldrb	r3, [r4, ip]	@ zero_extendqisi2
 627              		.loc 1 166 30 view .LVU161
 628 002a 9A42     		cmp	r2, r3
 629 002c 04D1     		bne	.L51
 167:Core/Src/UartRingbuffer.c **** 		{
 168:Core/Src/UartRingbuffer.c **** 			so_far++;
 630              		.loc 1 168 4 is_stmt 1 view .LVU162
 631              		.loc 1 168 10 is_stmt 0 view .LVU163
 632 002e 0EF1010E 		add	lr, lr, #1
 633              	.LVL48:
 169:Core/Src/UartRingbuffer.c **** 			indx++;
 634              		.loc 1 169 4 is_stmt 1 view .LVU164
 635              		.loc 1 169 8 is_stmt 0 view .LVU165
 636 0032 0CF1010C 		add	ip, ip, #1
 637              	.LVL49:
 166:Core/Src/UartRingbuffer.c **** 		{
 638              		.loc 1 166 3 view .LVU166
 639 0036 F4E7     		b	.L50
 640              	.L51:
 170:Core/Src/UartRingbuffer.c **** 		}
 171:Core/Src/UartRingbuffer.c **** 	}
 172:Core/Src/UartRingbuffer.c **** 
 173:Core/Src/UartRingbuffer.c **** 	if (so_far == startStringLength) startposition = indx;
 641              		.loc 1 173 2 is_stmt 1 view .LVU167
 642 0038 C645     		cmp	lr, r8
 643 003a 07D0     		beq	.L62
 644              	.L49:
 645              	.LVL50:
 646              	.L48:
 162:Core/Src/UartRingbuffer.c **** 	while (startString[so_far] != buffertocopyfrom[indx]) indx++;
 647              		.loc 1 162 1 discriminator 2 view .LVU168
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 648              		.loc 1 163 2 discriminator 2 view .LVU169
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 649              		.loc 1 163 29 discriminator 2 view .LVU170
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 650              		.loc 1 163 27 is_stmt 0 discriminator 2 view .LVU171
 651 003c 3A78     		ldrb	r2, [r7]	@ zero_extendqisi2
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 652              		.loc 1 163 53 discriminator 2 view .LVU172
 653 003e 14F80C30 		ldrb	r3, [r4, ip]	@ zero_extendqisi2
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 654              		.loc 1 163 29 discriminator 2 view .LVU173
 655 0042 9A42     		cmp	r2, r3
 656 0044 EBD0     		beq	.L58
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 657              		.loc 1 163 56 is_stmt 1 discriminator 1 view .LVU174
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 658              		.loc 1 163 60 is_stmt 0 discriminator 1 view .LVU175
 659 0046 0CF1010C 		add	ip, ip, #1
 660              	.LVL51:
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 661              		.loc 1 163 2 discriminator 1 view .LVU176
 662 004a F7E7     		b	.L48
 663              	.L53:
 664              	.LVL52:
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 16


 665              	.L62:
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 666              		.loc 1 163 2 discriminator 1 view .LVU177
 667 004c E646     		mov	lr, ip
 668              	.LVL53:
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 669              		.loc 1 163 2 discriminator 1 view .LVU178
 670 004e 0BE0     		b	.L52
 671              	.LVL54:
 672              	.L60:
 163:Core/Src/UartRingbuffer.c **** 	if (startString[so_far] == buffertocopyfrom[indx])
 673              		.loc 1 163 2 discriminator 1 view .LVU179
 674 0050 0023     		movs	r3, #0
 675 0052 02E0     		b	.L54
 676              	.LVL55:
 677              	.L63:
 174:Core/Src/UartRingbuffer.c **** 	else
 175:Core/Src/UartRingbuffer.c **** 	{
 176:Core/Src/UartRingbuffer.c **** 		so_far =0;
 177:Core/Src/UartRingbuffer.c **** 		goto repeat1;
 178:Core/Src/UartRingbuffer.c **** 	}
 179:Core/Src/UartRingbuffer.c **** 
 180:Core/Src/UartRingbuffer.c **** 	so_far = 0;
 181:Core/Src/UartRingbuffer.c **** 
 182:Core/Src/UartRingbuffer.c **** repeat2:
 183:Core/Src/UartRingbuffer.c **** 	while (endString[so_far] != buffertocopyfrom[indx]) indx++;
 184:Core/Src/UartRingbuffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 185:Core/Src/UartRingbuffer.c **** 	{
 186:Core/Src/UartRingbuffer.c **** 		while (endString[so_far] == buffertocopyfrom[indx])
 187:Core/Src/UartRingbuffer.c **** 		{
 188:Core/Src/UartRingbuffer.c **** 			so_far++;
 678              		.loc 1 188 4 is_stmt 1 view .LVU180
 679              		.loc 1 188 10 is_stmt 0 view .LVU181
 680 0054 0133     		adds	r3, r3, #1
 681              	.LVL56:
 189:Core/Src/UartRingbuffer.c **** 			indx++;
 682              		.loc 1 189 4 is_stmt 1 view .LVU182
 683              		.loc 1 189 8 is_stmt 0 view .LVU183
 684 0056 0EF1010E 		add	lr, lr, #1
 685              	.LVL57:
 686              	.L54:
 186:Core/Src/UartRingbuffer.c **** 		{
 687              		.loc 1 186 3 is_stmt 1 view .LVU184
 186:Core/Src/UartRingbuffer.c **** 		{
 688              		.loc 1 186 28 view .LVU185
 186:Core/Src/UartRingbuffer.c **** 		{
 689              		.loc 1 186 26 is_stmt 0 view .LVU186
 690 005a F15C     		ldrb	r1, [r6, r3]	@ zero_extendqisi2
 186:Core/Src/UartRingbuffer.c **** 		{
 691              		.loc 1 186 52 view .LVU187
 692 005c 14F80E20 		ldrb	r2, [r4, lr]	@ zero_extendqisi2
 186:Core/Src/UartRingbuffer.c **** 		{
 693              		.loc 1 186 28 view .LVU188
 694 0060 9142     		cmp	r1, r2
 695 0062 F7D0     		beq	.L63
 190:Core/Src/UartRingbuffer.c **** 		}
 191:Core/Src/UartRingbuffer.c **** 	}
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 17


 192:Core/Src/UartRingbuffer.c **** 
 193:Core/Src/UartRingbuffer.c **** 	if (so_far == endStringLength) endposition = indx-endStringLength;
 696              		.loc 1 193 2 is_stmt 1 view .LVU189
 697 0064 8342     		cmp	r3, r0
 698 0066 07D0     		beq	.L64
 699              	.LVL58:
 700              	.L52:
 182:Core/Src/UartRingbuffer.c **** 	while (endString[so_far] != buffertocopyfrom[indx]) indx++;
 701              		.loc 1 182 1 discriminator 2 view .LVU190
 183:Core/Src/UartRingbuffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 702              		.loc 1 183 2 discriminator 2 view .LVU191
 183:Core/Src/UartRingbuffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 703              		.loc 1 183 27 discriminator 2 view .LVU192
 183:Core/Src/UartRingbuffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 704              		.loc 1 183 25 is_stmt 0 discriminator 2 view .LVU193
 705 0068 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 183:Core/Src/UartRingbuffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 706              		.loc 1 183 51 discriminator 2 view .LVU194
 707 006a 14F80E30 		ldrb	r3, [r4, lr]	@ zero_extendqisi2
 183:Core/Src/UartRingbuffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 708              		.loc 1 183 27 discriminator 2 view .LVU195
 709 006e 9A42     		cmp	r2, r3
 710 0070 EED0     		beq	.L60
 183:Core/Src/UartRingbuffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 711              		.loc 1 183 54 is_stmt 1 discriminator 1 view .LVU196
 183:Core/Src/UartRingbuffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 712              		.loc 1 183 58 is_stmt 0 discriminator 1 view .LVU197
 713 0072 0EF1010E 		add	lr, lr, #1
 714              	.LVL59:
 183:Core/Src/UartRingbuffer.c **** 	if (endString[so_far] == buffertocopyfrom[indx])
 715              		.loc 1 183 2 discriminator 1 view .LVU198
 716 0076 F7E7     		b	.L52
 717              	.LVL60:
 718              	.L64:
 719              		.loc 1 193 33 is_stmt 1 discriminator 1 view .LVU199
 720              		.loc 1 193 45 is_stmt 0 discriminator 1 view .LVU200
 721 0078 AEEB000E 		sub	lr, lr, r0
 722              	.LVL61:
 194:Core/Src/UartRingbuffer.c **** 	else
 195:Core/Src/UartRingbuffer.c **** 	{
 196:Core/Src/UartRingbuffer.c **** 		so_far =0;
 197:Core/Src/UartRingbuffer.c **** 		goto repeat2;
 198:Core/Src/UartRingbuffer.c **** 	}
 199:Core/Src/UartRingbuffer.c **** 
 200:Core/Src/UartRingbuffer.c **** 	so_far = 0;
 723              		.loc 1 200 2 is_stmt 1 discriminator 1 view .LVU201
 201:Core/Src/UartRingbuffer.c **** 	indx=0;
 724              		.loc 1 201 2 discriminator 1 view .LVU202
 202:Core/Src/UartRingbuffer.c **** 
 203:Core/Src/UartRingbuffer.c **** 	for (int i=startposition; i<endposition; i++)
 725              		.loc 1 203 2 discriminator 1 view .LVU203
 201:Core/Src/UartRingbuffer.c **** 	indx=0;
 726              		.loc 1 201 6 is_stmt 0 discriminator 1 view .LVU204
 727 007c 0023     		movs	r3, #0
 728              	.LVL62:
 729              	.L57:
 730              	.LBB8:
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 18


 731              		.loc 1 203 29 is_stmt 1 discriminator 3 view .LVU205
 732 007e F445     		cmp	ip, lr
 733 0080 06DA     		bge	.L47
 204:Core/Src/UartRingbuffer.c **** 	{
 205:Core/Src/UartRingbuffer.c **** 		buffertocopyinto[indx] = buffertocopyfrom[i];
 734              		.loc 1 205 3 discriminator 2 view .LVU206
 735              		.loc 1 205 46 is_stmt 0 discriminator 2 view .LVU207
 736 0082 14F80C20 		ldrb	r2, [r4, ip]	@ zero_extendqisi2
 737              		.loc 1 205 26 discriminator 2 view .LVU208
 738 0086 EA54     		strb	r2, [r5, r3]
 206:Core/Src/UartRingbuffer.c **** 		indx++;
 739              		.loc 1 206 3 is_stmt 1 discriminator 2 view .LVU209
 740              		.loc 1 206 7 is_stmt 0 discriminator 2 view .LVU210
 741 0088 0133     		adds	r3, r3, #1
 742              	.LVL63:
 203:Core/Src/UartRingbuffer.c **** 	{
 743              		.loc 1 203 2 is_stmt 1 discriminator 2 view .LVU211
 744 008a 0CF1010C 		add	ip, ip, #1
 745              	.LVL64:
 203:Core/Src/UartRingbuffer.c **** 	{
 746              		.loc 1 203 2 is_stmt 0 discriminator 2 view .LVU212
 747 008e F6E7     		b	.L57
 748              	.L47:
 203:Core/Src/UartRingbuffer.c **** 	{
 749              		.loc 1 203 2 discriminator 2 view .LVU213
 750              	.LBE8:
 207:Core/Src/UartRingbuffer.c **** 	}
 208:Core/Src/UartRingbuffer.c **** }
 751              		.loc 1 208 1 view .LVU214
 752 0090 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 753              		.loc 1 208 1 view .LVU215
 754              		.cfi_endproc
 755              	.LFE73:
 756              		.cantunwind
 757              		.fnend
 759              		.section	.text._Z10Uart_flushv,"ax",%progbits
 760              		.align	1
 761              		.global	_Z10Uart_flushv
 762              		.syntax unified
 763              		.thumb
 764              		.thumb_func
 765              		.fpu softvfp
 767              	_Z10Uart_flushv:
 768              		.fnstart
 769              	.LFB74:
 209:Core/Src/UartRingbuffer.c **** 
 210:Core/Src/UartRingbuffer.c **** void Uart_flush (void)
 211:Core/Src/UartRingbuffer.c **** {
 770              		.loc 1 211 1 is_stmt 1 view -0
 771              		.cfi_startproc
 772              		@ args = 0, pretend = 0, frame = 0
 773              		@ frame_needed = 0, uses_anonymous_args = 0
 774 0000 10B5     		push	{r4, lr}
 775              	.LCFI6:
 776              		.cfi_def_cfa_offset 8
 777              		.cfi_offset 4, -8
 778              		.cfi_offset 14, -4
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 19


 212:Core/Src/UartRingbuffer.c **** 	memset(_rx_buffer->buffer,'\0', UART_BUFFER_SIZE);
 779              		.loc 1 212 2 view .LVU217
 780              		.loc 1 212 21 is_stmt 0 view .LVU218
 781 0002 054C     		ldr	r4, .L67
 782              		.loc 1 212 8 view .LVU219
 783 0004 4022     		movs	r2, #64
 784 0006 0021     		movs	r1, #0
 785 0008 2068     		ldr	r0, [r4]
 786 000a FFF7FEFF 		bl	memset
 787              	.LVL65:
 213:Core/Src/UartRingbuffer.c **** 	_rx_buffer->head = 0;
 788              		.loc 1 213 2 is_stmt 1 view .LVU220
 789              		.loc 1 213 14 is_stmt 0 view .LVU221
 790 000e 2368     		ldr	r3, [r4]
 791              		.loc 1 213 19 view .LVU222
 792 0010 0022     		movs	r2, #0
 793 0012 1A64     		str	r2, [r3, #64]
 214:Core/Src/UartRingbuffer.c **** }
 794              		.loc 1 214 1 view .LVU223
 795 0014 10BD     		pop	{r4, pc}
 796              	.L68:
 797 0016 00BF     		.align	2
 798              	.L67:
 799 0018 00000000 		.word	.LANCHOR0
 800              		.cfi_endproc
 801              	.LFE74:
 802              		.cantunwind
 803              		.fnend
 805              		.section	.text._Z9Uart_peekv,"ax",%progbits
 806              		.align	1
 807              		.global	_Z9Uart_peekv
 808              		.syntax unified
 809              		.thumb
 810              		.thumb_func
 811              		.fpu softvfp
 813              	_Z9Uart_peekv:
 814              		.fnstart
 815              	.LFB75:
 215:Core/Src/UartRingbuffer.c **** 
 216:Core/Src/UartRingbuffer.c **** int Uart_peek()
 217:Core/Src/UartRingbuffer.c **** {
 816              		.loc 1 217 1 is_stmt 1 view -0
 817              		.cfi_startproc
 818              		@ args = 0, pretend = 0, frame = 0
 819              		@ frame_needed = 0, uses_anonymous_args = 0
 820              		@ link register save eliminated.
 218:Core/Src/UartRingbuffer.c ****   if(_rx_buffer->head == _rx_buffer->tail)
 821              		.loc 1 218 3 view .LVU225
 822              		.loc 1 218 18 is_stmt 0 view .LVU226
 823 0000 054B     		ldr	r3, .L72
 824 0002 1B68     		ldr	r3, [r3]
 825 0004 196C     		ldr	r1, [r3, #64]
 826              		.loc 1 218 38 view .LVU227
 827 0006 5A6C     		ldr	r2, [r3, #68]
 828              		.loc 1 218 3 view .LVU228
 829 0008 9142     		cmp	r1, r2
 830 000a 02D0     		beq	.L71
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 20


 219:Core/Src/UartRingbuffer.c ****   {
 220:Core/Src/UartRingbuffer.c ****     return -1;
 221:Core/Src/UartRingbuffer.c ****   }
 222:Core/Src/UartRingbuffer.c ****   else
 223:Core/Src/UartRingbuffer.c ****   {
 224:Core/Src/UartRingbuffer.c ****     return _rx_buffer->buffer[_rx_buffer->tail];
 831              		.loc 1 224 5 is_stmt 1 view .LVU229
 832              		.loc 1 224 43 is_stmt 0 view .LVU230
 833 000c 5A6C     		ldr	r2, [r3, #68]
 834              		.loc 1 224 47 view .LVU231
 835 000e 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 836 0010 7047     		bx	lr
 837              	.L71:
 220:Core/Src/UartRingbuffer.c ****   }
 838              		.loc 1 220 13 view .LVU232
 839 0012 4FF0FF30 		mov	r0, #-1
 225:Core/Src/UartRingbuffer.c ****   }
 226:Core/Src/UartRingbuffer.c **** }
 840              		.loc 1 226 1 view .LVU233
 841 0016 7047     		bx	lr
 842              	.L73:
 843              		.align	2
 844              	.L72:
 845 0018 00000000 		.word	.LANCHOR0
 846              		.cfi_endproc
 847              	.LFE75:
 848              		.cantunwind
 849              		.fnend
 851              		.section	.text._Z9Copy_uptoPcS_,"ax",%progbits
 852              		.align	1
 853              		.global	_Z9Copy_uptoPcS_
 854              		.syntax unified
 855              		.thumb
 856              		.thumb_func
 857              		.fpu softvfp
 859              	_Z9Copy_uptoPcS_:
 860              		.fnstart
 861              	.LVL66:
 862              	.LFB76:
 227:Core/Src/UartRingbuffer.c **** 
 228:Core/Src/UartRingbuffer.c **** 
 229:Core/Src/UartRingbuffer.c **** int Copy_upto (char *string, char *buffertocopyinto)
 230:Core/Src/UartRingbuffer.c **** {
 863              		.loc 1 230 1 is_stmt 1 view -0
 864              		.cfi_startproc
 865              		@ args = 0, pretend = 0, frame = 0
 866              		@ frame_needed = 0, uses_anonymous_args = 0
 867              		.loc 1 230 1 is_stmt 0 view .LVU235
 868 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 869              	.LCFI7:
 870              		.cfi_def_cfa_offset 32
 871              		.cfi_offset 3, -32
 872              		.cfi_offset 4, -28
 873              		.cfi_offset 5, -24
 874              		.cfi_offset 6, -20
 875              		.cfi_offset 7, -16
 876              		.cfi_offset 8, -12
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 21


 877              		.cfi_offset 9, -8
 878              		.cfi_offset 14, -4
 879 0004 0546     		mov	r5, r0
 880 0006 0E46     		mov	r6, r1
 231:Core/Src/UartRingbuffer.c **** 	int so_far =0;
 881              		.loc 1 231 2 is_stmt 1 view .LVU236
 882              	.LVL67:
 232:Core/Src/UartRingbuffer.c **** 	int len = strlen (string);
 883              		.loc 1 232 2 view .LVU237
 884              		.loc 1 232 19 is_stmt 0 view .LVU238
 885 0008 FFF7FEFF 		bl	strlen
 886              	.LVL68:
 887              		.loc 1 232 19 view .LVU239
 888 000c 0746     		mov	r7, r0
 889              	.LVL69:
 233:Core/Src/UartRingbuffer.c **** 	int indx = 0;
 890              		.loc 1 233 2 is_stmt 1 view .LVU240
 891              		.loc 1 233 6 is_stmt 0 view .LVU241
 892 000e 0024     		movs	r4, #0
 893              	.L75:
 894              	.LVL70:
 895              	.L76:
 234:Core/Src/UartRingbuffer.c **** 
 235:Core/Src/UartRingbuffer.c **** again:
 896              		.loc 1 235 1 is_stmt 1 discriminator 1 view .LVU242
 236:Core/Src/UartRingbuffer.c **** 	while (!IsDataAvailable());
 897              		.loc 1 236 2 discriminator 1 view .LVU243
 898              		.loc 1 236 9 discriminator 1 view .LVU244
 899              		.loc 1 236 25 is_stmt 0 discriminator 1 view .LVU245
 900 0010 FFF7FEFF 		bl	_Z15IsDataAvailablev
 901              	.LVL71:
 902              		.loc 1 236 9 discriminator 1 view .LVU246
 903 0014 0028     		cmp	r0, #0
 904 0016 FBD0     		beq	.L76
 905              	.L79:
 237:Core/Src/UartRingbuffer.c **** 	while (Uart_peek() != string[so_far])
 906              		.loc 1 237 2 is_stmt 1 view .LVU247
 907              		.loc 1 237 21 view .LVU248
 908              		.loc 1 237 18 is_stmt 0 view .LVU249
 909 0018 FFF7FEFF 		bl	_Z9Uart_peekv
 910              	.LVL72:
 911              		.loc 1 237 37 view .LVU250
 912 001c 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 913              		.loc 1 237 21 view .LVU251
 914 001e 9842     		cmp	r0, r3
 915 0020 10D0     		beq	.L83
 238:Core/Src/UartRingbuffer.c **** 		{
 239:Core/Src/UartRingbuffer.c **** 			buffertocopyinto[indx] = _rx_buffer->buffer[_rx_buffer->tail];
 916              		.loc 1 239 4 is_stmt 1 view .LVU252
 917              		.loc 1 239 64 is_stmt 0 view .LVU253
 918 0022 164B     		ldr	r3, .L85
 919 0024 1A68     		ldr	r2, [r3]
 920              		.loc 1 239 60 view .LVU254
 921 0026 516C     		ldr	r1, [r2, #68]
 922              		.loc 1 239 64 view .LVU255
 923 0028 525C     		ldrb	r2, [r2, r1]	@ zero_extendqisi2
 924              		.loc 1 239 27 view .LVU256
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 22


 925 002a 3255     		strb	r2, [r6, r4]
 240:Core/Src/UartRingbuffer.c **** 			_rx_buffer->tail = (unsigned int)(_rx_buffer->tail + 1) % UART_BUFFER_SIZE;
 926              		.loc 1 240 4 is_stmt 1 view .LVU257
 927              		.loc 1 240 50 is_stmt 0 view .LVU258
 928 002c 1A68     		ldr	r2, [r3]
 929 002e 536C     		ldr	r3, [r2, #68]
 930              		.loc 1 240 55 view .LVU259
 931 0030 0133     		adds	r3, r3, #1
 932              		.loc 1 240 60 view .LVU260
 933 0032 03F03F03 		and	r3, r3, #63
 934              		.loc 1 240 21 view .LVU261
 935 0036 5364     		str	r3, [r2, #68]
 241:Core/Src/UartRingbuffer.c **** 			indx++;
 936              		.loc 1 241 4 is_stmt 1 view .LVU262
 937              		.loc 1 241 8 is_stmt 0 view .LVU263
 938 0038 0134     		adds	r4, r4, #1
 939              	.LVL73:
 940              	.L78:
 242:Core/Src/UartRingbuffer.c **** 			while (!IsDataAvailable());
 941              		.loc 1 242 4 is_stmt 1 view .LVU264
 942              		.loc 1 242 11 view .LVU265
 943              		.loc 1 242 27 is_stmt 0 view .LVU266
 944 003a FFF7FEFF 		bl	_Z15IsDataAvailablev
 945              	.LVL74:
 946              		.loc 1 242 11 view .LVU267
 947 003e 0028     		cmp	r0, #0
 948 0040 FBD0     		beq	.L78
 949 0042 E9E7     		b	.L79
 950              	.L83:
 951              		.loc 1 242 11 view .LVU268
 952 0044 4FF00008 		mov	r8, #0
 953              	.LVL75:
 954              	.L77:
 243:Core/Src/UartRingbuffer.c **** 
 244:Core/Src/UartRingbuffer.c **** 		}
 245:Core/Src/UartRingbuffer.c **** 	while (Uart_peek() == string [so_far])
 955              		.loc 1 245 2 is_stmt 1 view .LVU269
 956              		.loc 1 245 21 view .LVU270
 957              		.loc 1 245 18 is_stmt 0 view .LVU271
 958 0048 FFF7FEFF 		bl	_Z9Uart_peekv
 959              	.LVL76:
 960              		.loc 1 245 38 view .LVU272
 961 004c 15F80830 		ldrb	r3, [r5, r8]	@ zero_extendqisi2
 962              		.loc 1 245 21 view .LVU273
 963 0050 9842     		cmp	r0, r3
 964 0052 0ED1     		bne	.L80
 246:Core/Src/UartRingbuffer.c **** 	{
 247:Core/Src/UartRingbuffer.c **** 		so_far++;
 965              		.loc 1 247 3 is_stmt 1 view .LVU274
 966              		.loc 1 247 9 is_stmt 0 view .LVU275
 967 0054 08F10108 		add	r8, r8, #1
 968              	.LVL77:
 248:Core/Src/UartRingbuffer.c **** 		buffertocopyinto[indx++] = Uart_read();
 969              		.loc 1 248 3 is_stmt 1 view .LVU276
 970              		.loc 1 248 39 is_stmt 0 view .LVU277
 971 0058 FFF7FEFF 		bl	_Z9Uart_readv
 972              	.LVL78:
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 23


 973              		.loc 1 248 24 view .LVU278
 974 005c 04F10109 		add	r9, r4, #1
 975              	.LVL79:
 976              		.loc 1 248 28 view .LVU279
 977 0060 3055     		strb	r0, [r6, r4]
 249:Core/Src/UartRingbuffer.c **** 		if (so_far == len) return 1;
 978              		.loc 1 249 3 is_stmt 1 view .LVU280
 979 0062 4745     		cmp	r7, r8
 980 0064 07D0     		beq	.L81
 981              	.L82:
 250:Core/Src/UartRingbuffer.c **** 		while (!IsDataAvailable());
 982              		.loc 1 250 3 view .LVU281
 983              		.loc 1 250 10 view .LVU282
 984              		.loc 1 250 26 is_stmt 0 view .LVU283
 985 0066 FFF7FEFF 		bl	_Z15IsDataAvailablev
 986              	.LVL80:
 987              		.loc 1 250 10 view .LVU284
 988 006a 0028     		cmp	r0, #0
 989 006c FBD0     		beq	.L82
 248:Core/Src/UartRingbuffer.c **** 		buffertocopyinto[indx++] = Uart_read();
 990              		.loc 1 248 24 view .LVU285
 991 006e 4C46     		mov	r4, r9
 992 0070 EAE7     		b	.L77
 993              	.LVL81:
 994              	.L80:
 251:Core/Src/UartRingbuffer.c **** 	}
 252:Core/Src/UartRingbuffer.c **** 
 253:Core/Src/UartRingbuffer.c **** 	if (so_far != len)
 995              		.loc 1 253 2 is_stmt 1 view .LVU286
 996 0072 B845     		cmp	r8, r7
 997 0074 CCD1     		bne	.L76
 998              	.LVL82:
 999              	.L81:
 254:Core/Src/UartRingbuffer.c **** 	{
 255:Core/Src/UartRingbuffer.c **** 		so_far = 0;
 256:Core/Src/UartRingbuffer.c **** 		goto again;
 257:Core/Src/UartRingbuffer.c **** 	}
 258:Core/Src/UartRingbuffer.c **** 
 259:Core/Src/UartRingbuffer.c **** 	if (so_far == len) return 1;
 260:Core/Src/UartRingbuffer.c **** 	else return -1;
 261:Core/Src/UartRingbuffer.c **** }
 1000              		.loc 1 261 1 is_stmt 0 view .LVU287
 1001 0076 0120     		movs	r0, #1
 1002 0078 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1003              	.LVL83:
 1004              	.L86:
 1005              		.loc 1 261 1 view .LVU288
 1006              		.align	2
 1007              	.L85:
 1008 007c 00000000 		.word	.LANCHOR0
 1009              		.cfi_endproc
 1010              	.LFE76:
 1011              		.cantunwind
 1012              		.fnend
 1014              		.section	.text._Z8Wait_forPc,"ax",%progbits
 1015              		.align	1
 1016              		.global	_Z8Wait_forPc
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 24


 1017              		.syntax unified
 1018              		.thumb
 1019              		.thumb_func
 1020              		.fpu softvfp
 1022              	_Z8Wait_forPc:
 1023              		.fnstart
 1024              	.LVL84:
 1025              	.LFB78:
 262:Core/Src/UartRingbuffer.c **** 
 263:Core/Src/UartRingbuffer.c **** int Get_after (char *string, uint8_t numberofchars, char *buffertosave)
 264:Core/Src/UartRingbuffer.c **** {
 265:Core/Src/UartRingbuffer.c **** 
 266:Core/Src/UartRingbuffer.c **** 	while (Wait_for(string) != 1);
 267:Core/Src/UartRingbuffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 268:Core/Src/UartRingbuffer.c **** 	{
 269:Core/Src/UartRingbuffer.c **** 		while (!(IsDataAvailable()));
 270:Core/Src/UartRingbuffer.c **** 		buffertosave[indx] = Uart_read();
 271:Core/Src/UartRingbuffer.c **** 	}
 272:Core/Src/UartRingbuffer.c **** 	return 1;
 273:Core/Src/UartRingbuffer.c **** }
 274:Core/Src/UartRingbuffer.c **** 
 275:Core/Src/UartRingbuffer.c **** 
 276:Core/Src/UartRingbuffer.c **** int Wait_for (char *string)
 277:Core/Src/UartRingbuffer.c **** {
 1026              		.loc 1 277 1 is_stmt 1 view -0
 1027              		.cfi_startproc
 1028              		@ args = 0, pretend = 0, frame = 0
 1029              		@ frame_needed = 0, uses_anonymous_args = 0
 1030              		.loc 1 277 1 is_stmt 0 view .LVU290
 1031 0000 70B5     		push	{r4, r5, r6, lr}
 1032              	.LCFI8:
 1033              		.cfi_def_cfa_offset 16
 1034              		.cfi_offset 4, -16
 1035              		.cfi_offset 5, -12
 1036              		.cfi_offset 6, -8
 1037              		.cfi_offset 14, -4
 1038 0002 0546     		mov	r5, r0
 278:Core/Src/UartRingbuffer.c **** 	int so_far =0;
 1039              		.loc 1 278 2 is_stmt 1 view .LVU291
 1040              	.LVL85:
 279:Core/Src/UartRingbuffer.c **** 	int len = strlen (string);
 1041              		.loc 1 279 2 view .LVU292
 1042              		.loc 1 279 19 is_stmt 0 view .LVU293
 1043 0004 FFF7FEFF 		bl	strlen
 1044              	.LVL86:
 1045              		.loc 1 279 19 view .LVU294
 1046 0008 0646     		mov	r6, r0
 1047              	.LVL87:
 1048              	.L88:
 1049              	.L89:
 280:Core/Src/UartRingbuffer.c **** 
 281:Core/Src/UartRingbuffer.c **** again:
 1050              		.loc 1 281 1 is_stmt 1 discriminator 1 view .LVU295
 282:Core/Src/UartRingbuffer.c **** 	while (!IsDataAvailable());
 1051              		.loc 1 282 2 discriminator 1 view .LVU296
 1052              		.loc 1 282 9 discriminator 1 view .LVU297
 1053              		.loc 1 282 25 is_stmt 0 discriminator 1 view .LVU298
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 25


 1054 000a FFF7FEFF 		bl	_Z15IsDataAvailablev
 1055              	.LVL88:
 1056              		.loc 1 282 9 discriminator 1 view .LVU299
 1057 000e 0028     		cmp	r0, #0
 1058 0010 FBD0     		beq	.L89
 1059              	.L91:
 283:Core/Src/UartRingbuffer.c **** 	while (Uart_peek() != string[so_far]) _rx_buffer->tail = (unsigned int)(_rx_buffer->tail + 1) % UA
 1060              		.loc 1 283 2 is_stmt 1 discriminator 2 view .LVU300
 1061              		.loc 1 283 21 discriminator 2 view .LVU301
 1062              		.loc 1 283 18 is_stmt 0 discriminator 2 view .LVU302
 1063 0012 FFF7FEFF 		bl	_Z9Uart_peekv
 1064              	.LVL89:
 1065              		.loc 1 283 37 discriminator 2 view .LVU303
 1066 0016 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1067              		.loc 1 283 21 discriminator 2 view .LVU304
 1068 0018 9842     		cmp	r0, r3
 1069 001a 07D0     		beq	.L95
 1070              		.loc 1 283 40 is_stmt 1 discriminator 1 view .LVU305
 1071              		.loc 1 283 86 is_stmt 0 discriminator 1 view .LVU306
 1072 001c 0D4B     		ldr	r3, .L97
 1073 001e 1A68     		ldr	r2, [r3]
 1074 0020 536C     		ldr	r3, [r2, #68]
 1075              		.loc 1 283 91 discriminator 1 view .LVU307
 1076 0022 0133     		adds	r3, r3, #1
 1077              		.loc 1 283 96 discriminator 1 view .LVU308
 1078 0024 03F03F03 		and	r3, r3, #63
 1079              		.loc 1 283 57 discriminator 1 view .LVU309
 1080 0028 5364     		str	r3, [r2, #68]
 1081              		.loc 1 283 2 discriminator 1 view .LVU310
 1082 002a F2E7     		b	.L91
 1083              	.L95:
 1084 002c 0024     		movs	r4, #0
 1085              	.LVL90:
 1086              	.L90:
 284:Core/Src/UartRingbuffer.c **** 	while (Uart_peek() == string [so_far])
 1087              		.loc 1 284 2 is_stmt 1 view .LVU311
 1088              		.loc 1 284 21 view .LVU312
 1089              		.loc 1 284 18 is_stmt 0 view .LVU313
 1090 002e FFF7FEFF 		bl	_Z9Uart_peekv
 1091              	.LVL91:
 1092              		.loc 1 284 38 view .LVU314
 1093 0032 2B5D     		ldrb	r3, [r5, r4]	@ zero_extendqisi2
 1094              		.loc 1 284 21 view .LVU315
 1095 0034 9842     		cmp	r0, r3
 1096 0036 09D1     		bne	.L92
 285:Core/Src/UartRingbuffer.c **** 	{
 286:Core/Src/UartRingbuffer.c **** 		so_far++;
 1097              		.loc 1 286 3 is_stmt 1 view .LVU316
 1098              		.loc 1 286 9 is_stmt 0 view .LVU317
 1099 0038 0134     		adds	r4, r4, #1
 1100              	.LVL92:
 287:Core/Src/UartRingbuffer.c **** 		Uart_read();
 1101              		.loc 1 287 3 is_stmt 1 view .LVU318
 1102              		.loc 1 287 12 is_stmt 0 view .LVU319
 1103 003a FFF7FEFF 		bl	_Z9Uart_readv
 1104              	.LVL93:
 288:Core/Src/UartRingbuffer.c **** 		if (so_far == len) return 1;
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 26


 1105              		.loc 1 288 3 is_stmt 1 view .LVU320
 1106 003e A642     		cmp	r6, r4
 1107 0040 06D0     		beq	.L93
 1108              	.L94:
 289:Core/Src/UartRingbuffer.c **** 		while (!IsDataAvailable());
 1109              		.loc 1 289 3 view .LVU321
 1110              		.loc 1 289 10 view .LVU322
 1111              		.loc 1 289 26 is_stmt 0 view .LVU323
 1112 0042 FFF7FEFF 		bl	_Z15IsDataAvailablev
 1113              	.LVL94:
 1114              		.loc 1 289 10 view .LVU324
 1115 0046 0028     		cmp	r0, #0
 1116 0048 FBD0     		beq	.L94
 1117 004a F0E7     		b	.L90
 1118              	.L92:
 290:Core/Src/UartRingbuffer.c **** 	}
 291:Core/Src/UartRingbuffer.c **** 
 292:Core/Src/UartRingbuffer.c **** 	if (so_far != len)
 1119              		.loc 1 292 2 is_stmt 1 view .LVU325
 1120 004c B442     		cmp	r4, r6
 1121 004e DCD1     		bne	.L89
 1122              	.L93:
 293:Core/Src/UartRingbuffer.c **** 	{
 294:Core/Src/UartRingbuffer.c **** 		so_far = 0;
 295:Core/Src/UartRingbuffer.c **** 		goto again;
 296:Core/Src/UartRingbuffer.c **** 	}
 297:Core/Src/UartRingbuffer.c **** 
 298:Core/Src/UartRingbuffer.c **** 	if (so_far == len) return 1;
 299:Core/Src/UartRingbuffer.c **** 	else return -1;
 300:Core/Src/UartRingbuffer.c **** }
 1123              		.loc 1 300 1 is_stmt 0 view .LVU326
 1124 0050 0120     		movs	r0, #1
 1125 0052 70BD     		pop	{r4, r5, r6, pc}
 1126              	.LVL95:
 1127              	.L98:
 1128              		.loc 1 300 1 view .LVU327
 1129              		.align	2
 1130              	.L97:
 1131 0054 00000000 		.word	.LANCHOR0
 1132              		.cfi_endproc
 1133              	.LFE78:
 1134              		.cantunwind
 1135              		.fnend
 1137              		.section	.text._Z9Get_afterPchS_,"ax",%progbits
 1138              		.align	1
 1139              		.global	_Z9Get_afterPchS_
 1140              		.syntax unified
 1141              		.thumb
 1142              		.thumb_func
 1143              		.fpu softvfp
 1145              	_Z9Get_afterPchS_:
 1146              		.fnstart
 1147              	.LVL96:
 1148              	.LFB77:
 264:Core/Src/UartRingbuffer.c **** 
 1149              		.loc 1 264 1 is_stmt 1 view -0
 1150              		.cfi_startproc
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 27


 1151              		@ args = 0, pretend = 0, frame = 0
 1152              		@ frame_needed = 0, uses_anonymous_args = 0
 264:Core/Src/UartRingbuffer.c **** 
 1153              		.loc 1 264 1 is_stmt 0 view .LVU329
 1154 0000 70B5     		push	{r4, r5, r6, lr}
 1155              	.LCFI9:
 1156              		.cfi_def_cfa_offset 16
 1157              		.cfi_offset 4, -16
 1158              		.cfi_offset 5, -12
 1159              		.cfi_offset 6, -8
 1160              		.cfi_offset 14, -4
 1161 0002 0446     		mov	r4, r0
 1162 0004 0D46     		mov	r5, r1
 1163 0006 1646     		mov	r6, r2
 1164              	.LVL97:
 1165              	.L100:
 266:Core/Src/UartRingbuffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 1166              		.loc 1 266 2 is_stmt 1 view .LVU330
 266:Core/Src/UartRingbuffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 1167              		.loc 1 266 26 view .LVU331
 266:Core/Src/UartRingbuffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 1168              		.loc 1 266 17 is_stmt 0 view .LVU332
 1169 0008 2046     		mov	r0, r4
 1170 000a FFF7FEFF 		bl	_Z8Wait_forPc
 1171              	.LVL98:
 266:Core/Src/UartRingbuffer.c **** 	for (int indx=0; indx<numberofchars; indx++)
 1172              		.loc 1 266 26 view .LVU333
 1173 000e 0128     		cmp	r0, #1
 1174 0010 FAD1     		bne	.L100
 1175              	.LBB9:
 267:Core/Src/UartRingbuffer.c **** 	{
 1176              		.loc 1 267 11 view .LVU334
 1177 0012 0024     		movs	r4, #0
 1178              	.LVL99:
 1179              	.L103:
 267:Core/Src/UartRingbuffer.c **** 	{
 1180              		.loc 1 267 23 is_stmt 1 discriminator 1 view .LVU335
 1181 0014 A542     		cmp	r5, r4
 1182 0016 08DD     		ble	.L101
 1183              	.L102:
 269:Core/Src/UartRingbuffer.c **** 		buffertosave[indx] = Uart_read();
 1184              		.loc 1 269 3 view .LVU336
 269:Core/Src/UartRingbuffer.c **** 		buffertosave[indx] = Uart_read();
 1185              		.loc 1 269 10 view .LVU337
 269:Core/Src/UartRingbuffer.c **** 		buffertosave[indx] = Uart_read();
 1186              		.loc 1 269 27 is_stmt 0 view .LVU338
 1187 0018 FFF7FEFF 		bl	_Z15IsDataAvailablev
 1188              	.LVL100:
 269:Core/Src/UartRingbuffer.c **** 		buffertosave[indx] = Uart_read();
 1189              		.loc 1 269 10 view .LVU339
 1190 001c 0028     		cmp	r0, #0
 1191 001e FBD0     		beq	.L102
 270:Core/Src/UartRingbuffer.c **** 	}
 1192              		.loc 1 270 3 is_stmt 1 discriminator 2 view .LVU340
 270:Core/Src/UartRingbuffer.c **** 	}
 1193              		.loc 1 270 33 is_stmt 0 discriminator 2 view .LVU341
 1194 0020 FFF7FEFF 		bl	_Z9Uart_readv
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 28


 1195              	.LVL101:
 270:Core/Src/UartRingbuffer.c **** 	}
 1196              		.loc 1 270 22 discriminator 2 view .LVU342
 1197 0024 3055     		strb	r0, [r6, r4]
 267:Core/Src/UartRingbuffer.c **** 	{
 1198              		.loc 1 267 2 is_stmt 1 discriminator 2 view .LVU343
 1199 0026 0134     		adds	r4, r4, #1
 1200              	.LVL102:
 267:Core/Src/UartRingbuffer.c **** 	{
 1201              		.loc 1 267 2 is_stmt 0 discriminator 2 view .LVU344
 1202 0028 F4E7     		b	.L103
 1203              	.L101:
 267:Core/Src/UartRingbuffer.c **** 	{
 1204              		.loc 1 267 2 discriminator 2 view .LVU345
 1205              	.LBE9:
 272:Core/Src/UartRingbuffer.c **** }
 1206              		.loc 1 272 2 is_stmt 1 view .LVU346
 273:Core/Src/UartRingbuffer.c **** 
 1207              		.loc 1 273 1 is_stmt 0 view .LVU347
 1208 002a 0120     		movs	r0, #1
 1209 002c 70BD     		pop	{r4, r5, r6, pc}
 273:Core/Src/UartRingbuffer.c **** 
 1210              		.loc 1 273 1 view .LVU348
 1211              		.cfi_endproc
 1212              	.LFE77:
 1213              		.cantunwind
 1214              		.fnend
 1216              		.section	.text._Z8Uart_isrP20__UART_HandleTypeDef,"ax",%progbits
 1217              		.align	1
 1218              		.global	_Z8Uart_isrP20__UART_HandleTypeDef
 1219              		.syntax unified
 1220              		.thumb
 1221              		.thumb_func
 1222              		.fpu softvfp
 1224              	_Z8Uart_isrP20__UART_HandleTypeDef:
 1225              		.fnstart
 1226              	.LVL103:
 1227              	.LFB79:
 301:Core/Src/UartRingbuffer.c **** 
 302:Core/Src/UartRingbuffer.c **** 
 303:Core/Src/UartRingbuffer.c **** 
 304:Core/Src/UartRingbuffer.c **** 
 305:Core/Src/UartRingbuffer.c **** void Uart_isr (UART_HandleTypeDef *huart)
 306:Core/Src/UartRingbuffer.c **** {
 1228              		.loc 1 306 1 is_stmt 1 view -0
 1229              		.cfi_startproc
 1230              		@ args = 0, pretend = 0, frame = 0
 1231              		@ frame_needed = 0, uses_anonymous_args = 0
 1232              		.loc 1 306 1 is_stmt 0 view .LVU350
 1233 0000 08B5     		push	{r3, lr}
 1234              	.LCFI10:
 1235              		.cfi_def_cfa_offset 8
 1236              		.cfi_offset 3, -8
 1237              		.cfi_offset 14, -4
 307:Core/Src/UartRingbuffer.c **** 	  uint32_t isrflags   = READ_REG(huart->Instance->SR);
 1238              		.loc 1 307 4 is_stmt 1 view .LVU351
 1239              		.loc 1 307 26 is_stmt 0 view .LVU352
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 29


 1240 0002 0368     		ldr	r3, [r0]
 1241 0004 1A68     		ldr	r2, [r3]
 1242              	.LVL104:
 308:Core/Src/UartRingbuffer.c **** 	  uint32_t cr1its     = READ_REG(huart->Instance->CR1);
 1243              		.loc 1 308 4 is_stmt 1 view .LVU353
 1244              		.loc 1 308 26 is_stmt 0 view .LVU354
 1245 0006 D968     		ldr	r1, [r3, #12]
 1246              	.LVL105:
 309:Core/Src/UartRingbuffer.c **** 
 310:Core/Src/UartRingbuffer.c ****     /* if DR is not empty and the Rx Int is enabled */
 311:Core/Src/UartRingbuffer.c ****     if (((isrflags & USART_SR_RXNE) != RESET) && ((cr1its & USART_CR1_RXNEIE) != RESET))
 1247              		.loc 1 311 5 is_stmt 1 view .LVU355
 1248              	.LBB10:
 1249 0008 12F0200F 		tst	r2, #32
 1250 000c 02D0     		beq	.L106
 1251              		.loc 1 311 47 is_stmt 0 discriminator 1 view .LVU356
 1252 000e 11F0200F 		tst	r1, #32
 1253 0012 06D1     		bne	.L111
 1254              	.L106:
 1255              	.LBE10:
 312:Core/Src/UartRingbuffer.c ****     {
 313:Core/Src/UartRingbuffer.c ****     	 /******************
 314:Core/Src/UartRingbuffer.c ****     	    	      *  @note   PE (Parity error), FE (Framing error), NE (Noise error), ORE (Overrun
 315:Core/Src/UartRingbuffer.c ****     	    	      *          error) and IDLE (Idle line detected) flags are cleared by software
 316:Core/Src/UartRingbuffer.c ****     	    	      *          sequence: a read operation to USART_SR register followed by a read
 317:Core/Src/UartRingbuffer.c ****     	    	      *          operation to USART_DR register.
 318:Core/Src/UartRingbuffer.c ****     	    	      * @note   RXNE flag can be also cleared by a read to the USART_DR register.
 319:Core/Src/UartRingbuffer.c ****     	    	      * @note   TC flag can be also cleared by software sequence: a read operation to
 320:Core/Src/UartRingbuffer.c ****     	    	      *          USART_SR register followed by a write operation to USART_DR register.
 321:Core/Src/UartRingbuffer.c ****     	    	      * @note   TXE flag is cleared only by a write to the USART_DR register.
 322:Core/Src/UartRingbuffer.c **** 
 323:Core/Src/UartRingbuffer.c ****     	 *********************/
 324:Core/Src/UartRingbuffer.c **** 		huart->Instance->SR;                       /* Read status register */
 325:Core/Src/UartRingbuffer.c ****         unsigned char c = huart->Instance->DR;     /* Read data register */
 326:Core/Src/UartRingbuffer.c ****         store_char (c, _rx_buffer);  // store data in buffer
 327:Core/Src/UartRingbuffer.c ****         return;
 328:Core/Src/UartRingbuffer.c ****     }
 329:Core/Src/UartRingbuffer.c **** 
 330:Core/Src/UartRingbuffer.c ****     /*If interrupt is caused due to Transmit Data Register Empty */
 331:Core/Src/UartRingbuffer.c ****     if (((isrflags & USART_SR_TXE) != RESET) && ((cr1its & USART_CR1_TXEIE) != RESET))
 1256              		.loc 1 331 5 is_stmt 1 view .LVU357
 1257              	.LBB12:
 1258 0014 12F0800F 		tst	r2, #128
 1259 0018 02D0     		beq	.L105
 1260              		.loc 1 331 46 is_stmt 0 discriminator 1 view .LVU358
 1261 001a 11F0800F 		tst	r1, #128
 1262 001e 08D1     		bne	.L112
 1263              	.LVL106:
 1264              	.L105:
 1265              		.loc 1 331 46 discriminator 1 view .LVU359
 1266              	.LBE12:
 332:Core/Src/UartRingbuffer.c ****     {
 333:Core/Src/UartRingbuffer.c ****     	if(tx_buffer.head == tx_buffer.tail)
 334:Core/Src/UartRingbuffer.c ****     	    {
 335:Core/Src/UartRingbuffer.c ****     	      // Buffer empty, so disable interrupts
 336:Core/Src/UartRingbuffer.c ****     	      __HAL_UART_DISABLE_IT(huart, UART_IT_TXE);
 337:Core/Src/UartRingbuffer.c **** 
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 30


 338:Core/Src/UartRingbuffer.c ****     	    }
 339:Core/Src/UartRingbuffer.c **** 
 340:Core/Src/UartRingbuffer.c ****     	 else
 341:Core/Src/UartRingbuffer.c ****     	    {
 342:Core/Src/UartRingbuffer.c ****     	      // There is more data in the output buffer. Send the next byte
 343:Core/Src/UartRingbuffer.c ****     	      unsigned char c = tx_buffer.buffer[tx_buffer.tail];
 344:Core/Src/UartRingbuffer.c ****     	      tx_buffer.tail = (tx_buffer.tail + 1) % UART_BUFFER_SIZE;
 345:Core/Src/UartRingbuffer.c **** 
 346:Core/Src/UartRingbuffer.c ****     	      /******************
 347:Core/Src/UartRingbuffer.c ****     	      *  @note   PE (Parity error), FE (Framing error), NE (Noise error), ORE (Overrun
 348:Core/Src/UartRingbuffer.c ****     	      *          error) and IDLE (Idle line detected) flags are cleared by software
 349:Core/Src/UartRingbuffer.c ****     	      *          sequence: a read operation to USART_SR register followed by a read
 350:Core/Src/UartRingbuffer.c ****     	      *          operation to USART_DR register.
 351:Core/Src/UartRingbuffer.c ****     	      * @note   RXNE flag can be also cleared by a read to the USART_DR register.
 352:Core/Src/UartRingbuffer.c ****     	      * @note   TC flag can be also cleared by software sequence: a read operation to
 353:Core/Src/UartRingbuffer.c ****     	      *          USART_SR register followed by a write operation to USART_DR register.
 354:Core/Src/UartRingbuffer.c ****     	      * @note   TXE flag is cleared only by a write to the USART_DR register.
 355:Core/Src/UartRingbuffer.c **** 
 356:Core/Src/UartRingbuffer.c ****     	      *********************/
 357:Core/Src/UartRingbuffer.c **** 
 358:Core/Src/UartRingbuffer.c ****     	      huart->Instance->SR;
 359:Core/Src/UartRingbuffer.c ****     	      huart->Instance->DR = c;
 360:Core/Src/UartRingbuffer.c **** 
 361:Core/Src/UartRingbuffer.c ****     	    }
 362:Core/Src/UartRingbuffer.c ****     	return;
 363:Core/Src/UartRingbuffer.c ****     }
 364:Core/Src/UartRingbuffer.c **** }
 1267              		.loc 1 364 1 view .LVU360
 1268 0020 08BD     		pop	{r3, pc}
 1269              	.LVL107:
 1270              	.L111:
 1271              	.LBB17:
 1272              	.LBB11:
 324:Core/Src/UartRingbuffer.c ****         unsigned char c = huart->Instance->DR;     /* Read data register */
 1273              		.loc 1 324 3 is_stmt 1 view .LVU361
 324:Core/Src/UartRingbuffer.c ****         unsigned char c = huart->Instance->DR;     /* Read data register */
 1274              		.loc 1 324 20 is_stmt 0 view .LVU362
 1275 0022 1A68     		ldr	r2, [r3]
 1276              	.LVL108:
 325:Core/Src/UartRingbuffer.c ****         store_char (c, _rx_buffer);  // store data in buffer
 1277              		.loc 1 325 9 is_stmt 1 view .LVU363
 325:Core/Src/UartRingbuffer.c ****         store_char (c, _rx_buffer);  // store data in buffer
 1278              		.loc 1 325 44 is_stmt 0 view .LVU364
 1279 0024 5868     		ldr	r0, [r3, #4]
 1280              	.LVL109:
 326:Core/Src/UartRingbuffer.c ****         return;
 1281              		.loc 1 326 9 is_stmt 1 view .LVU365
 326:Core/Src/UartRingbuffer.c ****         return;
 1282              		.loc 1 326 20 is_stmt 0 view .LVU366
 1283 0026 0E4B     		ldr	r3, .L114
 1284 0028 1968     		ldr	r1, [r3]
 1285              	.LVL110:
 326:Core/Src/UartRingbuffer.c ****         return;
 1286              		.loc 1 326 20 view .LVU367
 1287 002a C0B2     		uxtb	r0, r0
 326:Core/Src/UartRingbuffer.c ****         return;
 1288              		.loc 1 326 20 view .LVU368
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 31


 1289 002c FFF7FEFF 		bl	_Z10store_charhP11ring_buffer
 1290              	.LVL111:
 327:Core/Src/UartRingbuffer.c ****     }
 1291              		.loc 1 327 9 is_stmt 1 view .LVU369
 1292 0030 F6E7     		b	.L105
 1293              	.LVL112:
 1294              	.L112:
 327:Core/Src/UartRingbuffer.c ****     }
 1295              		.loc 1 327 9 is_stmt 0 view .LVU370
 1296              	.LBE11:
 1297              	.LBE17:
 1298              	.LBB18:
 1299              	.LBB13:
 333:Core/Src/UartRingbuffer.c ****     	    {
 1300              		.loc 1 333 6 is_stmt 1 view .LVU371
 1301              	.LBB14:
 333:Core/Src/UartRingbuffer.c ****     	    {
 1302              		.loc 1 333 19 is_stmt 0 view .LVU372
 1303 0032 0C4A     		ldr	r2, .L114+4
 1304              	.LVL113:
 333:Core/Src/UartRingbuffer.c ****     	    {
 1305              		.loc 1 333 19 view .LVU373
 1306 0034 116C     		ldr	r1, [r2, #64]
 1307              	.LVL114:
 333:Core/Src/UartRingbuffer.c ****     	    {
 1308              		.loc 1 333 37 view .LVU374
 1309 0036 526C     		ldr	r2, [r2, #68]
 333:Core/Src/UartRingbuffer.c ****     	    {
 1310              		.loc 1 333 6 view .LVU375
 1311 0038 9142     		cmp	r1, r2
 1312 003a 0BD0     		beq	.L113
 1313              	.LBB15:
 343:Core/Src/UartRingbuffer.c ****     	      tx_buffer.tail = (tx_buffer.tail + 1) % UART_BUFFER_SIZE;
 1314              		.loc 1 343 12 is_stmt 1 view .LVU376
 343:Core/Src/UartRingbuffer.c ****     	      tx_buffer.tail = (tx_buffer.tail + 1) % UART_BUFFER_SIZE;
 1315              		.loc 1 343 57 is_stmt 0 view .LVU377
 1316 003c 094A     		ldr	r2, .L114+4
 1317 003e 536C     		ldr	r3, [r2, #68]
 343:Core/Src/UartRingbuffer.c ****     	      tx_buffer.tail = (tx_buffer.tail + 1) % UART_BUFFER_SIZE;
 1318              		.loc 1 343 61 view .LVU378
 1319 0040 D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 1320              	.LVL115:
 344:Core/Src/UartRingbuffer.c **** 
 1321              		.loc 1 344 12 is_stmt 1 view .LVU379
 344:Core/Src/UartRingbuffer.c **** 
 1322              		.loc 1 344 40 is_stmt 0 view .LVU380
 1323 0042 536C     		ldr	r3, [r2, #68]
 344:Core/Src/UartRingbuffer.c **** 
 1324              		.loc 1 344 45 view .LVU381
 1325 0044 0133     		adds	r3, r3, #1
 344:Core/Src/UartRingbuffer.c **** 
 1326              		.loc 1 344 50 view .LVU382
 1327 0046 03F03F03 		and	r3, r3, #63
 344:Core/Src/UartRingbuffer.c **** 
 1328              		.loc 1 344 27 view .LVU383
 1329 004a 5364     		str	r3, [r2, #68]
 358:Core/Src/UartRingbuffer.c ****     	      huart->Instance->DR = c;
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 32


 1330              		.loc 1 358 12 is_stmt 1 view .LVU384
 358:Core/Src/UartRingbuffer.c ****     	      huart->Instance->DR = c;
 1331              		.loc 1 358 19 is_stmt 0 view .LVU385
 1332 004c 0368     		ldr	r3, [r0]
 358:Core/Src/UartRingbuffer.c ****     	      huart->Instance->DR = c;
 1333              		.loc 1 358 29 view .LVU386
 1334 004e 1A68     		ldr	r2, [r3]
 359:Core/Src/UartRingbuffer.c **** 
 1335              		.loc 1 359 12 is_stmt 1 view .LVU387
 359:Core/Src/UartRingbuffer.c **** 
 1336              		.loc 1 359 32 is_stmt 0 view .LVU388
 1337 0050 5960     		str	r1, [r3, #4]
 1338              	.LBE15:
 1339              	.LBE14:
 362:Core/Src/UartRingbuffer.c ****     }
 1340              		.loc 1 362 6 is_stmt 1 view .LVU389
 1341 0052 E5E7     		b	.L105
 1342              	.LVL116:
 1343              	.L113:
 1344              	.LBB16:
 336:Core/Src/UartRingbuffer.c **** 
 1345              		.loc 1 336 12 view .LVU390
 1346 0054 DA68     		ldr	r2, [r3, #12]
 1347 0056 22F08002 		bic	r2, r2, #128
 1348 005a DA60     		str	r2, [r3, #12]
 1349 005c E0E7     		b	.L105
 1350              	.L115:
 1351 005e 00BF     		.align	2
 1352              	.L114:
 1353 0060 00000000 		.word	.LANCHOR0
 1354 0064 00000000 		.word	.LANCHOR3
 1355              	.LBE16:
 1356              	.LBE13:
 1357              	.LBE18:
 1358              		.cfi_endproc
 1359              	.LFE79:
 1360              		.cantunwind
 1361              		.fnend
 1363              		.global	_tx_buffer
 1364              		.global	_rx_buffer
 1365              		.global	tx_buffer
 1366              		.global	rx_buffer
 1367              		.section	.bss._rx_buffer,"aw",%nobits
 1368              		.align	2
 1369              		.set	.LANCHOR0,. + 0
 1372              	_rx_buffer:
 1373 0000 00000000 		.space	4
 1374              		.section	.bss._tx_buffer,"aw",%nobits
 1375              		.align	2
 1376              		.set	.LANCHOR2,. + 0
 1379              	_tx_buffer:
 1380 0000 00000000 		.space	4
 1381              		.section	.bss.rx_buffer,"aw",%nobits
 1382              		.align	2
 1383              		.set	.LANCHOR1,. + 0
 1386              	rx_buffer:
 1387 0000 00000000 		.space	72
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 33


 1387      00000000 
 1387      00000000 
 1387      00000000 
 1387      00000000 
 1388              		.section	.bss.tx_buffer,"aw",%nobits
 1389              		.align	2
 1390              		.set	.LANCHOR3,. + 0
 1393              	tx_buffer:
 1394 0000 00000000 		.space	72
 1394      00000000 
 1394      00000000 
 1394      00000000 
 1394      00000000 
 1395              		.text
 1396              	.Letext0:
 1397              		.file 2 "c:\\users\\polzovatel\\appdata\\roaming\\gnu_mcu_eclipse\\xpack-arm-none-eabi-gcc-10.2.1-
 1398              		.file 3 "c:\\users\\polzovatel\\appdata\\roaming\\gnu_mcu_eclipse\\xpack-arm-none-eabi-gcc-10.2.1-
 1399              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 1400              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f1xx.h"
 1401              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1402              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1403              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1404              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1405              		.file 10 "Core/Inc/UartRingbuffer.h"
 1406              		.file 11 "c:\\users\\polzovatel\\appdata\\roaming\\gnu_mcu_eclipse\\xpack-arm-none-eabi-gcc-10.2.1
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 34


DEFINED SYMBOLS
                            *ABS*:0000000000000000 UartRingbuffer.c
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:16     .text._Z12Ringbuf_initv:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:24     .text._Z12Ringbuf_initv:0000000000000000 _Z12Ringbuf_initv
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:58     .text._Z12Ringbuf_initv:0000000000000024 $d
.ARM.exidx.text._Z12Ringbuf_initv:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:69     .text._Z10store_charhP11ring_buffer:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:76     .text._Z10store_charhP11ring_buffer:0000000000000000 _Z10store_charhP11ring_buffer
.ARM.exidx.text._Z10store_charhP11ring_buffer:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:116    .text._Z8Look_forPcS_:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:123    .text._Z8Look_forPcS_:0000000000000000 _Z8Look_forPcS_
  .ARM.exidx.text._Z8Look_forPcS_:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:212    .text._Z9Uart_readv:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:219    .text._Z9Uart_readv:0000000000000000 _Z9Uart_readv
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:269    .text._Z9Uart_readv:0000000000000024 $d
    .ARM.exidx.text._Z9Uart_readv:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:276    .text._Z10Uart_writei:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:283    .text._Z10Uart_writei:0000000000000000 _Z10Uart_writei
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:345    .text._Z10Uart_writei:0000000000000030 $d
  .ARM.exidx.text._Z10Uart_writei:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:353    .text._Z15IsDataAvailablev:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:360    .text._Z15IsDataAvailablev:0000000000000000 _Z15IsDataAvailablev
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:383    .text._Z15IsDataAvailablev:0000000000000010 $d
.ARM.exidx.text._Z15IsDataAvailablev:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:390    .text._Z15Uart_sendstringPKc:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:397    .text._Z15Uart_sendstringPKc:0000000000000000 _Z15Uart_sendstringPKc
.ARM.exidx.text._Z15Uart_sendstringPKc:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:437    .text._Z14Uart_printbaselh:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:444    .text._Z14Uart_printbaselh:0000000000000000 _Z14Uart_printbaselh
.ARM.exidx.text._Z14Uart_printbaselh:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:565    .text._Z17GetDataFromBufferPcS_S_S_:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:572    .text._Z17GetDataFromBufferPcS_S_S_:0000000000000000 _Z17GetDataFromBufferPcS_S_S_
.ARM.exidx.text._Z17GetDataFromBufferPcS_S_S_:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:760    .text._Z10Uart_flushv:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:767    .text._Z10Uart_flushv:0000000000000000 _Z10Uart_flushv
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:799    .text._Z10Uart_flushv:0000000000000018 $d
  .ARM.exidx.text._Z10Uart_flushv:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:806    .text._Z9Uart_peekv:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:813    .text._Z9Uart_peekv:0000000000000000 _Z9Uart_peekv
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:845    .text._Z9Uart_peekv:0000000000000018 $d
    .ARM.exidx.text._Z9Uart_peekv:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:852    .text._Z9Copy_uptoPcS_:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:859    .text._Z9Copy_uptoPcS_:0000000000000000 _Z9Copy_uptoPcS_
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1008   .text._Z9Copy_uptoPcS_:000000000000007c $d
 .ARM.exidx.text._Z9Copy_uptoPcS_:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1015   .text._Z8Wait_forPc:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1022   .text._Z8Wait_forPc:0000000000000000 _Z8Wait_forPc
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1131   .text._Z8Wait_forPc:0000000000000054 $d
    .ARM.exidx.text._Z8Wait_forPc:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1138   .text._Z9Get_afterPchS_:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1145   .text._Z9Get_afterPchS_:0000000000000000 _Z9Get_afterPchS_
.ARM.exidx.text._Z9Get_afterPchS_:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1217   .text._Z8Uart_isrP20__UART_HandleTypeDef:0000000000000000 $t
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1224   .text._Z8Uart_isrP20__UART_HandleTypeDef:0000000000000000 _Z8Uart_isrP20__UART_HandleTypeDef
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1353   .text._Z8Uart_isrP20__UART_HandleTypeDef:0000000000000060 $d
.ARM.exidx.text._Z8Uart_isrP20__UART_HandleTypeDef:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1379   .bss._tx_buffer:0000000000000000 _tx_buffer
ARM GAS  C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s 			page 35


C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1372   .bss._rx_buffer:0000000000000000 _rx_buffer
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1393   .bss.tx_buffer:0000000000000000 tx_buffer
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1386   .bss.rx_buffer:0000000000000000 rx_buffer
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1368   .bss._rx_buffer:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1375   .bss._tx_buffer:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1382   .bss.rx_buffer:0000000000000000 $d
C:\Users\POLZOV~1\AppData\Local\Temp\ccCKjh32.s:1389   .bss.tx_buffer:0000000000000000 $d

UNDEFINED SYMBOLS
huart1
strlen
memset
